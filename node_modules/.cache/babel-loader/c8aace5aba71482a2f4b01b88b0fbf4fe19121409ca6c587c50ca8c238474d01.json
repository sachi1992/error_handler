{"ast":null,"code":"import { GLOBAL_OBJ, getLocationHref, logger, isBrowser } from '@sentry/utils';\nimport { prepareEvent, getIsolationScope, getClient, withScope, createEventEnvelope, getCurrentScope } from '@sentry/core';\n\n// exporting a separate copy of `WINDOW` rather than exporting the one from `@sentry/browser`\n// prevents the browser package from being bundled in the CDN bundle, and avoids a\n// circular dependency between the browser and feedback packages\nconst WINDOW = GLOBAL_OBJ;\nconst LIGHT_BACKGROUND = '#ffffff';\nconst INHERIT = 'inherit';\nconst SUBMIT_COLOR = 'rgba(108, 95, 199, 1)';\nconst LIGHT_THEME = {\n  fontFamily: \"system-ui, 'Helvetica Neue', Arial, sans-serif\",\n  fontSize: '14px',\n  background: LIGHT_BACKGROUND,\n  backgroundHover: '#f6f6f7',\n  foreground: '#2b2233',\n  border: '1.5px solid rgba(41, 35, 47, 0.13)',\n  borderRadius: '12px',\n  boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',\n  success: '#268d75',\n  error: '#df3338',\n  submitBackground: 'rgba(88, 74, 192, 1)',\n  submitBackgroundHover: SUBMIT_COLOR,\n  submitBorder: SUBMIT_COLOR,\n  submitOutlineFocus: '#29232f',\n  submitForeground: LIGHT_BACKGROUND,\n  submitForegroundHover: LIGHT_BACKGROUND,\n  cancelBackground: 'transparent',\n  cancelBackgroundHover: 'var(--background-hover)',\n  cancelBorder: 'var(--border)',\n  cancelOutlineFocus: 'var(--input-outline-focus)',\n  cancelForeground: 'var(--foreground)',\n  cancelForegroundHover: 'var(--foreground)',\n  inputBackground: INHERIT,\n  inputForeground: INHERIT,\n  inputBorder: 'var(--border)',\n  inputOutlineFocus: SUBMIT_COLOR,\n  formBorderRadius: '20px',\n  formContentBorderRadius: '6px'\n};\nconst DEFAULT_THEME = {\n  light: LIGHT_THEME,\n  dark: {\n    ...LIGHT_THEME,\n    background: '#29232f',\n    backgroundHover: '#352f3b',\n    foreground: '#ebe6ef',\n    border: '1.5px solid rgba(235, 230, 239, 0.15)',\n    success: '#2da98c',\n    error: '#f55459'\n  }\n};\nconst ACTOR_LABEL = 'Report a Bug';\nconst CANCEL_BUTTON_LABEL = 'Cancel';\nconst SUBMIT_BUTTON_LABEL = 'Send Bug Report';\nconst FORM_TITLE = 'Report a Bug';\nconst EMAIL_PLACEHOLDER = 'your.email@example.org';\nconst EMAIL_LABEL = 'Email';\nconst MESSAGE_PLACEHOLDER = \"What's the bug? What did you expect?\";\nconst MESSAGE_LABEL = 'Description';\nconst NAME_PLACEHOLDER = 'Your Name';\nconst NAME_LABEL = 'Name';\nconst SUCCESS_MESSAGE_TEXT = 'Thank you for your report!';\nconst FEEDBACK_WIDGET_SOURCE = 'widget';\nconst FEEDBACK_API_SOURCE = 'api';\n\n/**\n * Prepare a feedback event & enrich it with the SDK metadata.\n */\nasync function prepareFeedbackEvent({\n  client,\n  scope,\n  event\n}) {\n  const eventHint = {};\n  if (client.emit) {\n    client.emit('preprocessEvent', event, eventHint);\n  }\n  const preparedEvent = await prepareEvent(client.getOptions(), event, eventHint, scope, client, getIsolationScope());\n  if (preparedEvent === null) {\n    // Taken from baseclient's `_processEvent` method, where this is handled for errors/transactions\n    client.recordDroppedEvent('event_processor', 'feedback', event);\n    return null;\n  }\n\n  // This normally happens in browser client \"_prepareEvent\"\n  // but since we do not use this private method from the client, but rather the plain import\n  // we need to do this manually.\n  preparedEvent.platform = preparedEvent.platform || 'javascript';\n  return preparedEvent;\n}\n\n/**\n * Send feedback using transport\n */\nasync function sendFeedbackRequest({\n  feedback: {\n    message,\n    email,\n    name,\n    source,\n    url\n  }\n}, {\n  includeReplay = true\n} = {}) {\n  const client = getClient();\n  const transport = client && client.getTransport();\n  const dsn = client && client.getDsn();\n  if (!client || !transport || !dsn) {\n    return;\n  }\n  const baseEvent = {\n    contexts: {\n      feedback: {\n        contact_email: email,\n        name,\n        message,\n        url,\n        source\n      }\n    },\n    type: 'feedback'\n  };\n  return withScope(async scope => {\n    // No use for breadcrumbs in feedback\n    scope.clearBreadcrumbs();\n    if ([FEEDBACK_API_SOURCE, FEEDBACK_WIDGET_SOURCE].includes(String(source))) {\n      scope.setLevel('info');\n    }\n    const feedbackEvent = await prepareFeedbackEvent({\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      scope: scope,\n      client,\n      event: baseEvent\n    });\n    if (!feedbackEvent) {\n      return;\n    }\n    if (client.emit) {\n      client.emit('beforeSendFeedback', feedbackEvent, {\n        includeReplay: Boolean(includeReplay)\n      });\n    }\n    const envelope = createEventEnvelope(feedbackEvent, dsn, client.getOptions()._metadata, client.getOptions().tunnel);\n    let response;\n    try {\n      response = await transport.send(envelope);\n    } catch (err) {\n      const error = new Error('Unable to send Feedback');\n      try {\n        // In case browsers don't allow this property to be writable\n        // @ts-expect-error This needs lib es2022 and newer\n        error.cause = err;\n      } catch (e) {\n        // nothing to do\n      }\n      throw error;\n    }\n\n    // TODO (v8): we can remove this guard once transport.send's type signature doesn't include void anymore\n    if (!response) {\n      return;\n    }\n\n    // Require valid status codes, otherwise can assume feedback was not sent successfully\n    if (typeof response.statusCode === 'number' && (response.statusCode < 200 || response.statusCode >= 300)) {\n      throw new Error('Unable to send Feedback');\n    }\n    return response;\n  });\n}\n\n/*\n * For reference, the fully built event looks something like this:\n * {\n *     \"type\": \"feedback\",\n *     \"event_id\": \"d2132d31b39445f1938d7e21b6bf0ec4\",\n *     \"timestamp\": 1597977777.6189718,\n *     \"dist\": \"1.12\",\n *     \"platform\": \"javascript\",\n *     \"environment\": \"production\",\n *     \"release\": 42,\n *     \"tags\": {\"transaction\": \"/organizations/:orgId/performance/:eventSlug/\"},\n *     \"sdk\": {\"name\": \"name\", \"version\": \"version\"},\n *     \"user\": {\n *         \"id\": \"123\",\n *         \"username\": \"user\",\n *         \"email\": \"user@site.com\",\n *         \"ip_address\": \"192.168.11.12\",\n *     },\n *     \"request\": {\n *         \"url\": None,\n *         \"headers\": {\n *             \"user-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Safari/605.1.15\"\n *         },\n *     },\n *     \"contexts\": {\n *         \"feedback\": {\n *             \"message\": \"test message\",\n *             \"contact_email\": \"test@example.com\",\n *             \"type\": \"feedback\",\n *         },\n *         \"trace\": {\n *             \"trace_id\": \"4C79F60C11214EB38604F4AE0781BFB2\",\n *             \"span_id\": \"FA90FDEAD5F74052\",\n *             \"type\": \"trace\",\n *         },\n *         \"replay\": {\n *             \"replay_id\": \"e2d42047b1c5431c8cba85ee2a8ab25d\",\n *         },\n *     },\n *   }\n */\n\n/**\n * Public API to send a Feedback item to Sentry\n */\nfunction sendFeedback({\n  name,\n  email,\n  message,\n  source = FEEDBACK_API_SOURCE,\n  url = getLocationHref()\n}, options = {}) {\n  if (!message) {\n    throw new Error('Unable to submit feedback with empty message');\n  }\n  return sendFeedbackRequest({\n    feedback: {\n      name,\n      email,\n      message,\n      url,\n      source\n    }\n  }, options);\n}\n\n/**\n * This serves as a build time flag that will be true by default, but false in non-debug builds or if users replace `__SENTRY_DEBUG__` in their generated code.\n *\n * ATTENTION: This constant must never cross package boundaries (i.e. be exported) to guarantee that it can be used for tree shaking.\n */\nconst DEBUG_BUILD = typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__;\n\n/**\n * Quick and dirty deep merge for the Feedback integration options\n */\nfunction mergeOptions(defaultOptions, optionOverrides) {\n  return {\n    ...defaultOptions,\n    ...optionOverrides,\n    themeDark: {\n      ...defaultOptions.themeDark,\n      ...optionOverrides.themeDark\n    },\n    themeLight: {\n      ...defaultOptions.themeLight,\n      ...optionOverrides.themeLight\n    }\n  };\n}\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nfunction createActorStyles(d) {\n  const style = d.createElement('style');\n  style.textContent = `\n.widget__actor {\n  line-height: 25px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 12px 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n`;\n  return style;\n}\n\n/**\n * Creates <style> element for widget dialog\n */\nfunction createDialogStyles(d) {\n  const style = d.createElement('style');\n  style.textContent = `\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: var(--form-border-radius);\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: var(--form-content-border-radius);\n  color: var(--input-foreground);\n  font-size: 14px;\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: var(--form-content-border-radius);\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n`;\n  return style;\n}\nfunction getThemedCssVariables(theme) {\n  return `\n  --background: ${theme.background};\n  --background-hover: ${theme.backgroundHover};\n  --foreground: ${theme.foreground};\n  --error: ${theme.error};\n  --success: ${theme.success};\n  --border: ${theme.border};\n  --border-radius: ${theme.borderRadius};\n  --box-shadow: ${theme.boxShadow};\n\n  --submit-background: ${theme.submitBackground};\n  --submit-background-hover: ${theme.submitBackgroundHover};\n  --submit-border: ${theme.submitBorder};\n  --submit-outline-focus: ${theme.submitOutlineFocus};\n  --submit-foreground: ${theme.submitForeground};\n  --submit-foreground-hover: ${theme.submitForegroundHover};\n\n  --cancel-background: ${theme.cancelBackground};\n  --cancel-background-hover: ${theme.cancelBackgroundHover};\n  --cancel-border: ${theme.cancelBorder};\n  --cancel-outline-focus: ${theme.cancelOutlineFocus};\n  --cancel-foreground: ${theme.cancelForeground};\n  --cancel-foreground-hover: ${theme.cancelForegroundHover};\n\n  --input-background: ${theme.inputBackground};\n  --input-foreground: ${theme.inputForeground};\n  --input-border: ${theme.inputBorder};\n  --input-outline-focus: ${theme.inputOutlineFocus};\n\n  --form-border-radius: ${theme.formBorderRadius};\n  --form-content-border-radius: ${theme.formContentBorderRadius};\n  `;\n}\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nfunction createMainStyles(d, colorScheme, themes) {\n  const style = d.createElement('style');\n  style.textContent = `\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${themes.light.fontFamily};\n  --font-size: ${themes.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${getThemedCssVariables(colorScheme === 'dark' ? themes.dark : themes.light)}\n}\n\n${colorScheme === 'system' ? `\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${getThemedCssVariables(themes.dark)}\n  }\n}` : ''}\n}`;\n  return style;\n}\n\n/**\n * Creates shadow host\n */\nfunction createShadowHost({\n  id,\n  colorScheme,\n  themeDark,\n  themeLight\n}) {\n  try {\n    const doc = WINDOW.document;\n\n    // Create the host\n    const host = doc.createElement('div');\n    host.id = id;\n\n    // Create the shadow root\n    const shadow = host.attachShadow({\n      mode: 'open'\n    });\n    shadow.appendChild(createMainStyles(doc, colorScheme, {\n      dark: themeDark,\n      light: themeLight\n    }));\n    shadow.appendChild(createDialogStyles(doc));\n    return {\n      shadow,\n      host\n    };\n  } catch (e) {\n    // Shadow DOM probably not supported\n    logger.warn('[Feedback] Browser does not support shadow DOM API');\n    throw new Error('Browser does not support shadow DOM API.');\n  }\n}\n\n/**\n * Handles UI behavior of dialog when feedback is submitted, calls\n * `sendFeedback` to send feedback.\n */\nasync function handleFeedbackSubmit(dialog, feedback, options) {\n  if (!dialog) {\n    // Not sure when this would happen\n    return;\n  }\n  const showFetchError = () => {\n    if (!dialog) {\n      return;\n    }\n    dialog.showError('There was a problem submitting feedback, please wait and try again.');\n  };\n  dialog.hideError();\n  try {\n    const resp = await sendFeedback({\n      ...feedback,\n      source: FEEDBACK_WIDGET_SOURCE\n    }, options);\n\n    // Success!\n    return resp;\n  } catch (err) {\n    DEBUG_BUILD && logger.error(err);\n    showFetchError();\n  }\n}\n\n/**\n * Helper function to set a dict of attributes on element (w/ specified namespace)\n */\nfunction setAttributesNS(el, attributes) {\n  Object.entries(attributes).forEach(([key, val]) => {\n    el.setAttributeNS(null, key, val);\n  });\n  return el;\n}\nconst SIZE = 20;\nconst XMLNS$2 = 'http://www.w3.org/2000/svg';\n\n/**\n * Feedback Icon\n */\nfunction Icon() {\n  const createElementNS = tagName => WINDOW.document.createElementNS(XMLNS$2, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    class: 'feedback-icon',\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    viewBox: `0 0 ${SIZE} ${SIZE}`,\n    fill: 'none'\n  });\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_80)'\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z'\n  });\n  svg.appendChild(g).appendChild(path);\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_80'\n  });\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    fill: 'white'\n  });\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n  return {\n    get el() {\n      return svg;\n    }\n  };\n}\n\n/**\n * Helper function to create an element. Could be used as a JSX factory\n * (i.e. React-like syntax).\n */\nfunction createElement(tagName, attributes, ...children) {\n  const doc = WINDOW.document;\n  const element = doc.createElement(tagName);\n  if (attributes) {\n    Object.entries(attributes).forEach(([attribute, attributeValue]) => {\n      if (attribute === 'className' && typeof attributeValue === 'string') {\n        // JSX does not allow class as a valid name\n        element.setAttribute('class', attributeValue);\n      } else if (typeof attributeValue === 'boolean' && attributeValue) {\n        element.setAttribute(attribute, '');\n      } else if (typeof attributeValue === 'string') {\n        element.setAttribute(attribute, attributeValue);\n      } else if (attribute.startsWith('on') && typeof attributeValue === 'function') {\n        element.addEventListener(attribute.substring(2).toLowerCase(), attributeValue);\n      }\n    });\n  }\n  for (const child of children) {\n    appendChild(element, child);\n  }\n  return element;\n}\nfunction appendChild(parent, child) {\n  const doc = WINDOW.document;\n  if (typeof child === 'undefined' || child === null) {\n    return;\n  }\n  if (Array.isArray(child)) {\n    for (const value of child) {\n      appendChild(parent, value);\n    }\n  } else if (child === false) ;else if (typeof child === 'string') {\n    parent.appendChild(doc.createTextNode(child));\n  } else if (child instanceof Node) {\n    parent.appendChild(child);\n  } else {\n    parent.appendChild(doc.createTextNode(String(child)));\n  }\n}\n\n/**\n *\n */\nfunction Actor({\n  buttonLabel,\n  onClick\n}) {\n  function _handleClick(e) {\n    onClick && onClick(e);\n  }\n  const el = createElement('button', {\n    type: 'button',\n    className: 'widget__actor',\n    ['aria-label']: buttonLabel,\n    ['aria-hidden']: 'false'\n  }, Icon().el, buttonLabel ? createElement('span', {\n    className: 'widget__actor__text'\n  }, buttonLabel) : null);\n  el.addEventListener('click', _handleClick);\n  return {\n    get el() {\n      return el;\n    },\n    show: () => {\n      el.classList.remove('widget__actor--hidden');\n      el.setAttribute('aria-hidden', 'false');\n    },\n    hide: () => {\n      el.classList.add('widget__actor--hidden');\n      el.setAttribute('aria-hidden', 'true');\n    }\n  };\n}\n\n/**\n *\n */\nfunction SubmitButton({\n  label\n}) {\n  const el = createElement('button', {\n    type: 'submit',\n    className: 'btn btn--primary',\n    ['aria-label']: label\n  }, label);\n  return {\n    el\n  };\n}\nfunction retrieveStringValue(formData, key) {\n  const value = formData.get(key);\n  if (typeof value === 'string') {\n    return value.trim();\n  }\n  return '';\n}\n\n/**\n * Creates the form element\n */\nfunction Form({\n  nameLabel,\n  namePlaceholder,\n  emailLabel,\n  emailPlaceholder,\n  messageLabel,\n  messagePlaceholder,\n  cancelButtonLabel,\n  submitButtonLabel,\n  showName,\n  showEmail,\n  isNameRequired,\n  isEmailRequired,\n  defaultName,\n  defaultEmail,\n  onCancel,\n  onSubmit\n}) {\n  const {\n    el: submitEl\n  } = SubmitButton({\n    label: submitButtonLabel\n  });\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!(e.target instanceof HTMLFormElement)) {\n      return;\n    }\n    try {\n      if (onSubmit) {\n        const formData = new FormData(e.target);\n        const feedback = {\n          name: retrieveStringValue(formData, 'name'),\n          email: retrieveStringValue(formData, 'email'),\n          message: retrieveStringValue(formData, 'message')\n        };\n        onSubmit(feedback);\n      }\n    } catch (e2) {\n      // pass\n    }\n  }\n  const errorEl = createElement('div', {\n    className: 'form__error-container form__error-container--hidden',\n    ['aria-hidden']: 'true'\n  });\n  function showError(message) {\n    errorEl.textContent = message;\n    errorEl.classList.remove('form__error-container--hidden');\n    errorEl.setAttribute('aria-hidden', 'false');\n  }\n  function hideError() {\n    errorEl.textContent = '';\n    errorEl.classList.add('form__error-container--hidden');\n    errorEl.setAttribute('aria-hidden', 'true');\n  }\n  const nameEl = createElement('input', {\n    id: 'name',\n    type: showName ? 'text' : 'hidden',\n    ['aria-hidden']: showName ? 'false' : 'true',\n    name: 'name',\n    required: isNameRequired,\n    className: 'form__input',\n    placeholder: namePlaceholder,\n    value: defaultName\n  });\n  const emailEl = createElement('input', {\n    id: 'email',\n    type: showEmail ? 'text' : 'hidden',\n    ['aria-hidden']: showEmail ? 'false' : 'true',\n    name: 'email',\n    required: isEmailRequired,\n    className: 'form__input',\n    placeholder: emailPlaceholder,\n    value: defaultEmail\n  });\n  const messageEl = createElement('textarea', {\n    id: 'message',\n    autoFocus: 'true',\n    rows: '5',\n    name: 'message',\n    required: true,\n    className: 'form__input form__input--textarea',\n    placeholder: messagePlaceholder\n  });\n  const cancelEl = createElement('button', {\n    type: 'button',\n    className: 'btn btn--default',\n    ['aria-label']: cancelButtonLabel,\n    onClick: e => {\n      onCancel && onCancel(e);\n    }\n  }, cancelButtonLabel);\n  const formEl = createElement('form', {\n    className: 'form',\n    onSubmit: handleSubmit\n  }, [errorEl, showName && createElement('label', {\n    htmlFor: 'name',\n    className: 'form__label'\n  }, [createElement('span', {\n    className: 'form__label__text'\n  }, nameLabel, isNameRequired && createElement('span', {\n    className: 'form__label__text--required'\n  }, ' (required)')), nameEl]), !showName && nameEl, showEmail && createElement('label', {\n    htmlFor: 'email',\n    className: 'form__label'\n  }, [createElement('span', {\n    className: 'form__label__text'\n  }, emailLabel, isEmailRequired && createElement('span', {\n    className: 'form__label__text--required'\n  }, ' (required)')), emailEl]), !showEmail && emailEl, createElement('label', {\n    htmlFor: 'message',\n    className: 'form__label'\n  }, [createElement('span', {\n    className: 'form__label__text'\n  }, messageLabel, createElement('span', {\n    className: 'form__label__text--required'\n  }, ' (required)')), messageEl]), createElement('div', {\n    className: 'btn-group'\n  }, [submitEl, cancelEl])]);\n  return {\n    get el() {\n      return formEl;\n    },\n    showError,\n    hideError\n  };\n}\nconst XMLNS$1 = 'http://www.w3.org/2000/svg';\n\n/**\n * Sentry Logo\n */\nfunction Logo({\n  colorScheme\n}) {\n  const createElementNS = tagName => WINDOW.document.createElementNS(XMLNS$1, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    class: 'sentry-logo',\n    width: '32',\n    height: '30',\n    viewBox: '0 0 72 66',\n    fill: 'none'\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    transform: 'translate(11, 11)',\n    d: 'M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z'\n  });\n  svg.append(path);\n  const defs = createElementNS('defs');\n  const style = createElementNS('style');\n  style.textContent = `\n    path {\n      fill: ${colorScheme === 'dark' ? '#fff' : '#362d59'};\n    }`;\n  if (colorScheme === 'system') {\n    style.textContent += `\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    `;\n  }\n  defs.append(style);\n  svg.append(defs);\n  return {\n    get el() {\n      return svg;\n    }\n  };\n}\n\n/**\n * Feedback dialog component that has the form\n */\nfunction Dialog({\n  formTitle,\n  showBranding,\n  showName,\n  showEmail,\n  isNameRequired,\n  isEmailRequired,\n  colorScheme,\n  defaultName,\n  defaultEmail,\n  onClosed,\n  onCancel,\n  onSubmit,\n  ...textLabels\n}) {\n  let el = null;\n\n  /**\n   * Handles when the dialog is clicked. In our case, the dialog is the\n   * semi-transparent bg behind the form. We want clicks outside of the form to\n   * hide the form.\n   */\n  function handleDialogClick() {\n    close();\n\n    // Only this should trigger `onClose`, we don't want the `close()` method to\n    // trigger it, otherwise it can cause cycles.\n    onClosed && onClosed();\n  }\n\n  /**\n   * Close the dialog\n   */\n  function close() {\n    if (el) {\n      el.open = false;\n    }\n  }\n\n  /**\n   * Opens the dialog\n   */\n  function open() {\n    if (el) {\n      el.open = true;\n    }\n  }\n\n  /**\n   * Check if dialog is currently opened\n   */\n  function checkIsOpen() {\n    return el && el.open === true || false;\n  }\n  const {\n    el: formEl,\n    showError,\n    hideError\n  } = Form({\n    showEmail,\n    showName,\n    isEmailRequired,\n    isNameRequired,\n    defaultName,\n    defaultEmail,\n    onSubmit,\n    onCancel,\n    ...textLabels\n  });\n  el = createElement('dialog', {\n    className: 'dialog',\n    open: true,\n    onClick: handleDialogClick\n  }, createElement('div', {\n    className: 'dialog__content',\n    onClick: e => {\n      // Stop event propagation so clicks on content modal do not propagate to dialog (which will close dialog)\n      e.stopPropagation();\n    }\n  }, createElement('h2', {\n    className: 'dialog__header'\n  }, formTitle, showBranding && createElement('a', {\n    className: 'brand-link',\n    target: '_blank',\n    href: 'https://sentry.io/welcome/',\n    title: 'Powered by Sentry',\n    rel: 'noopener noreferrer'\n  }, Logo({\n    colorScheme\n  }).el)), formEl));\n  return {\n    get el() {\n      return el;\n    },\n    showError,\n    hideError,\n    open,\n    close,\n    checkIsOpen\n  };\n}\nconst WIDTH = 16;\nconst HEIGHT = 17;\nconst XMLNS = 'http://www.w3.org/2000/svg';\n\n/**\n * Success Icon (checkmark)\n */\nfunction SuccessIcon() {\n  const createElementNS = tagName => WINDOW.document.createElementNS(XMLNS, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    class: 'success-icon',\n    width: `${WIDTH}`,\n    height: `${HEIGHT}`,\n    viewBox: `0 0 ${WIDTH} ${HEIGHT}`,\n    fill: 'none'\n  });\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_156)'\n  });\n  const path2 = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z'\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    d: 'M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z'\n  });\n  svg.appendChild(g).append(path, path2);\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_156'\n  });\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${WIDTH}`,\n    height: `${WIDTH}`,\n    fill: 'white',\n    transform: 'translate(0 0.5)'\n  });\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n  return {\n    get el() {\n      return svg;\n    }\n  };\n}\n\n/**\n * Feedback dialog component that has the form\n */\nfunction SuccessMessage({\n  message,\n  onRemove\n}) {\n  function remove() {\n    if (!el) {\n      return;\n    }\n    el.remove();\n    onRemove && onRemove();\n  }\n  const el = createElement('div', {\n    className: 'success-message',\n    onClick: remove\n  }, SuccessIcon().el, message);\n  return {\n    el,\n    remove\n  };\n}\n\n/**\n * Creates a new widget. Returns public methods that control widget behavior.\n */\nfunction createWidget({\n  shadow,\n  options: {\n    shouldCreateActor = true,\n    ...options\n  },\n  attachTo\n}) {\n  let actor;\n  let dialog;\n  let isDialogOpen = false;\n\n  /**\n   * Show the success message for 5 seconds\n   */\n  function showSuccessMessage() {\n    if (!shadow) {\n      return;\n    }\n    try {\n      const success = SuccessMessage({\n        message: options.successMessageText,\n        onRemove: () => {\n          if (timeoutId) {\n            clearTimeout(timeoutId);\n          }\n          showActor();\n        }\n      });\n      if (!success.el) {\n        throw new Error('Unable to show success message');\n      }\n      shadow.appendChild(success.el);\n      const timeoutId = setTimeout(() => {\n        if (success) {\n          success.remove();\n        }\n      }, 5000);\n    } catch (err) {\n      // TODO: error handling\n      logger.error(err);\n    }\n  }\n\n  /**\n   * Handler for when the feedback form is completed by the user. This will\n   * create and send the feedback message as an event.\n   */\n  async function _handleFeedbackSubmit(feedback) {\n    if (!dialog) {\n      return;\n    }\n\n    // Simple validation for now, just check for non-empty required fields\n    const emptyField = [];\n    if (options.isNameRequired && !feedback.name) {\n      emptyField.push(options.nameLabel);\n    }\n    if (options.isEmailRequired && !feedback.email) {\n      emptyField.push(options.emailLabel);\n    }\n    if (!feedback.message) {\n      emptyField.push(options.messageLabel);\n    }\n    if (emptyField.length > 0) {\n      dialog.showError(`Please enter in the following required fields: ${emptyField.join(', ')}`);\n      return;\n    }\n    const result = await handleFeedbackSubmit(dialog, feedback);\n\n    // Error submitting feedback\n    if (!result) {\n      if (options.onSubmitError) {\n        options.onSubmitError();\n      }\n      return;\n    }\n\n    // Success\n    removeDialog();\n    showSuccessMessage();\n    if (options.onSubmitSuccess) {\n      options.onSubmitSuccess();\n    }\n  }\n\n  /**\n   * Internal handler when dialog is opened\n   */\n  function handleOpenDialog() {\n    // Flush replay if integration exists\n    const client = getClient();\n    const replay = client && client.getIntegrationByName && client.getIntegrationByName('Replay');\n    if (!replay) {\n      return;\n    }\n    replay.flush().catch(err => {\n      DEBUG_BUILD && logger.error(err);\n    });\n  }\n\n  /**\n   * Displays the default actor\n   */\n  function showActor() {\n    actor && actor.show();\n  }\n\n  /**\n   * Hides the default actor\n   */\n  function hideActor() {\n    actor && actor.hide();\n  }\n\n  /**\n   * Removes the default actor element\n   */\n  function removeActor() {\n    actor && actor.el && actor.el.remove();\n  }\n\n  /**\n   *\n   */\n  function openDialog() {\n    try {\n      if (dialog) {\n        dialog.open();\n        isDialogOpen = true;\n        if (options.onFormOpen) {\n          options.onFormOpen();\n        }\n        handleOpenDialog();\n        return;\n      }\n      const userKey = options.useSentryUser;\n      const scope = getCurrentScope();\n      const user = scope && scope.getUser();\n      dialog = Dialog({\n        colorScheme: options.colorScheme,\n        showBranding: options.showBranding,\n        showName: options.showName || options.isNameRequired,\n        showEmail: options.showEmail || options.isEmailRequired,\n        isNameRequired: options.isNameRequired,\n        isEmailRequired: options.isEmailRequired,\n        formTitle: options.formTitle,\n        cancelButtonLabel: options.cancelButtonLabel,\n        submitButtonLabel: options.submitButtonLabel,\n        emailLabel: options.emailLabel,\n        emailPlaceholder: options.emailPlaceholder,\n        messageLabel: options.messageLabel,\n        messagePlaceholder: options.messagePlaceholder,\n        nameLabel: options.nameLabel,\n        namePlaceholder: options.namePlaceholder,\n        defaultName: userKey && user && user[userKey.name] || '',\n        defaultEmail: userKey && user && user[userKey.email] || '',\n        onClosed: () => {\n          showActor();\n          isDialogOpen = false;\n          if (options.onFormClose) {\n            options.onFormClose();\n          }\n        },\n        onCancel: () => {\n          closeDialog();\n          showActor();\n        },\n        onSubmit: _handleFeedbackSubmit\n      });\n      if (!dialog.el) {\n        throw new Error('Unable to open Feedback dialog');\n      }\n      shadow.appendChild(dialog.el);\n\n      // Hides the default actor whenever dialog is opened\n      hideActor();\n      if (options.onFormOpen) {\n        options.onFormOpen();\n      }\n      handleOpenDialog();\n    } catch (err) {\n      // TODO: Error handling?\n      logger.error(err);\n    }\n  }\n\n  /**\n   * Closes the dialog\n   */\n  function closeDialog() {\n    if (dialog) {\n      dialog.close();\n      isDialogOpen = false;\n      if (options.onFormClose) {\n        options.onFormClose();\n      }\n    }\n  }\n\n  /**\n   * Removes the dialog element from DOM\n   */\n  function removeDialog() {\n    if (dialog) {\n      closeDialog();\n      const dialogEl = dialog.el;\n      dialogEl && dialogEl.remove();\n      dialog = undefined;\n    }\n  }\n\n  /**\n   *\n   */\n  function handleActorClick() {\n    // Open dialog\n    if (!isDialogOpen) {\n      openDialog();\n    }\n\n    // Hide actor button\n    hideActor();\n  }\n  if (attachTo) {\n    attachTo.addEventListener('click', handleActorClick);\n  } else if (shouldCreateActor) {\n    actor = Actor({\n      buttonLabel: options.buttonLabel,\n      onClick: handleActorClick\n    });\n    actor.el && shadow.appendChild(actor.el);\n  }\n  return {\n    get actor() {\n      return actor;\n    },\n    get dialog() {\n      return dialog;\n    },\n    showActor,\n    hideActor,\n    removeActor,\n    openDialog,\n    closeDialog,\n    removeDialog\n  };\n}\nconst doc = WINDOW.document;\nconst feedbackIntegration = options => {\n  // eslint-disable-next-line deprecation/deprecation\n  return new Feedback(options);\n};\n\n/**\n * Feedback integration. When added as an integration to the SDK, it will\n * inject a button in the bottom-right corner of the window that opens a\n * feedback modal when clicked.\n *\n * @deprecated Use `feedbackIntegration()` instead.\n */\nclass Feedback {\n  /**\n   * @inheritDoc\n   */\n  static __initStatic() {\n    this.id = 'Feedback';\n  }\n\n  /**\n   * @inheritDoc\n   */\n\n  /**\n   * Feedback configuration options\n   */\n\n  /**\n   * Reference to widget element that is created when autoInject is true\n   */\n\n  /**\n   * List of all widgets that are created from the integration\n   */\n\n  /**\n   * Reference to the host element where widget is inserted\n   */\n\n  /**\n   * Refernce to Shadow DOM root\n   */\n\n  /**\n   * Tracks if actor styles have ever been inserted into shadow DOM\n   */\n\n  constructor({\n    autoInject = true,\n    id = 'sentry-feedback',\n    isEmailRequired = false,\n    isNameRequired = false,\n    showBranding = true,\n    showEmail = true,\n    showName = true,\n    useSentryUser = {\n      email: 'email',\n      name: 'username'\n    },\n    themeDark,\n    themeLight,\n    colorScheme = 'system',\n    buttonLabel = ACTOR_LABEL,\n    cancelButtonLabel = CANCEL_BUTTON_LABEL,\n    submitButtonLabel = SUBMIT_BUTTON_LABEL,\n    formTitle = FORM_TITLE,\n    emailPlaceholder = EMAIL_PLACEHOLDER,\n    emailLabel = EMAIL_LABEL,\n    messagePlaceholder = MESSAGE_PLACEHOLDER,\n    messageLabel = MESSAGE_LABEL,\n    namePlaceholder = NAME_PLACEHOLDER,\n    nameLabel = NAME_LABEL,\n    successMessageText = SUCCESS_MESSAGE_TEXT,\n    onFormClose,\n    onFormOpen,\n    onSubmitError,\n    onSubmitSuccess\n  } = {}) {\n    // eslint-disable-next-line deprecation/deprecation\n    this.name = Feedback.id;\n\n    // tsc fails if these are not initialized explicitly constructor, e.g. can't call `_initialize()`\n    this._host = null;\n    this._shadow = null;\n    this._widget = null;\n    this._widgets = new Set();\n    this._hasInsertedActorStyles = false;\n    this.options = {\n      autoInject,\n      showBranding,\n      id,\n      isEmailRequired,\n      isNameRequired,\n      showEmail,\n      showName,\n      useSentryUser,\n      colorScheme,\n      themeDark: {\n        ...DEFAULT_THEME.dark,\n        ...themeDark\n      },\n      themeLight: {\n        ...DEFAULT_THEME.light,\n        ...themeLight\n      },\n      buttonLabel,\n      cancelButtonLabel,\n      submitButtonLabel,\n      formTitle,\n      emailLabel,\n      emailPlaceholder,\n      messageLabel,\n      messagePlaceholder,\n      nameLabel,\n      namePlaceholder,\n      successMessageText,\n      onFormClose,\n      onFormOpen,\n      onSubmitError,\n      onSubmitSuccess\n    };\n  }\n\n  /**\n   * Setup and initialize feedback container\n   */\n  setupOnce() {\n    if (!isBrowser()) {\n      return;\n    }\n    try {\n      this._cleanupWidgetIfExists();\n      const {\n        autoInject\n      } = this.options;\n      if (!autoInject) {\n        // Nothing to do here\n        return;\n      }\n      this._createWidget(this.options);\n    } catch (err) {\n      DEBUG_BUILD && logger.error(err);\n    }\n  }\n\n  /**\n   * Allows user to open the dialog box. Creates a new widget if\n   * `autoInject` was false, otherwise re-uses the default widget that was\n   * created during initialization of the integration.\n   */\n  openDialog() {\n    if (!this._widget) {\n      this._createWidget({\n        ...this.options,\n        shouldCreateActor: false\n      });\n    }\n    if (!this._widget) {\n      return;\n    }\n    this._widget.openDialog();\n  }\n\n  /**\n   * Closes the dialog for the default widget, if it exists\n   */\n  closeDialog() {\n    if (!this._widget) {\n      // Nothing to do if widget does not exist\n      return;\n    }\n    this._widget.closeDialog();\n  }\n\n  /**\n   * Adds click listener to attached element to open a feedback dialog\n   */\n  attachTo(el, optionOverrides) {\n    try {\n      const options = mergeOptions(this.options, optionOverrides || {});\n      return this._ensureShadowHost(options, ({\n        shadow\n      }) => {\n        const targetEl = typeof el === 'string' ? doc.querySelector(el) : typeof el.addEventListener === 'function' ? el : null;\n        if (!targetEl) {\n          DEBUG_BUILD && logger.error('[Feedback] Unable to attach to target element');\n          return null;\n        }\n        const widget = createWidget({\n          shadow,\n          options,\n          attachTo: targetEl\n        });\n        this._widgets.add(widget);\n        if (!this._widget) {\n          this._widget = widget;\n        }\n        return widget;\n      });\n    } catch (err) {\n      DEBUG_BUILD && logger.error(err);\n      return null;\n    }\n  }\n\n  /**\n   * Creates a new widget. Accepts partial options to override any options passed to constructor.\n   */\n  createWidget(optionOverrides) {\n    try {\n      return this._createWidget(mergeOptions(this.options, optionOverrides || {}));\n    } catch (err) {\n      DEBUG_BUILD && logger.error(err);\n      return null;\n    }\n  }\n\n  /**\n   * Removes a single widget\n   */\n  removeWidget(widget) {\n    if (!widget) {\n      return false;\n    }\n    try {\n      if (this._widgets.has(widget)) {\n        widget.removeActor();\n        widget.removeDialog();\n        this._widgets.delete(widget);\n        if (this._widget === widget) {\n          // TODO: is more clean-up needed? e.g. call remove()\n          this._widget = null;\n        }\n        return true;\n      }\n    } catch (err) {\n      DEBUG_BUILD && logger.error(err);\n    }\n    return false;\n  }\n\n  /**\n   * Returns the default (first-created) widget\n   */\n  getWidget() {\n    return this._widget;\n  }\n\n  /**\n   * Removes the Feedback integration (including host, shadow DOM, and all widgets)\n   */\n  remove() {\n    if (this._host) {\n      this._host.remove();\n    }\n    this._initialize();\n  }\n\n  /**\n   * Initializes values of protected properties\n   */\n  _initialize() {\n    this._host = null;\n    this._shadow = null;\n    this._widget = null;\n    this._widgets = new Set();\n    this._hasInsertedActorStyles = false;\n  }\n\n  /**\n   * Clean-up the widget if it already exists in the DOM. This shouldn't happen\n   * in prod, but can happen in development with hot module reloading.\n   */\n  _cleanupWidgetIfExists() {\n    if (this._host) {\n      this.remove();\n    }\n    const existingFeedback = doc.querySelector(`#${this.options.id}`);\n    if (existingFeedback) {\n      existingFeedback.remove();\n    }\n  }\n\n  /**\n   * Creates a new widget, after ensuring shadow DOM exists\n   */\n  _createWidget(options) {\n    return this._ensureShadowHost(options, ({\n      shadow\n    }) => {\n      const widget = createWidget({\n        shadow,\n        options\n      });\n      if (!this._hasInsertedActorStyles && widget.actor) {\n        shadow.appendChild(createActorStyles(doc));\n        this._hasInsertedActorStyles = true;\n      }\n      this._widgets.add(widget);\n      if (!this._widget) {\n        this._widget = widget;\n      }\n      return widget;\n    });\n  }\n\n  /**\n   * Ensures that shadow DOM exists and is added to the DOM\n   */\n  _ensureShadowHost(options, cb) {\n    let needsAppendHost = false;\n\n    // Don't create if it already exists\n    if (!this._shadow || !this._host) {\n      const {\n        id,\n        colorScheme,\n        themeLight,\n        themeDark\n      } = options;\n      const {\n        shadow,\n        host\n      } = createShadowHost({\n        id,\n        colorScheme,\n        themeLight,\n        themeDark\n      });\n      this._shadow = shadow;\n      this._host = host;\n      needsAppendHost = true;\n    }\n\n    // set data attribute on host for different themes\n    this._host.dataset.sentryFeedbackColorscheme = options.colorScheme;\n    const result = cb({\n      shadow: this._shadow,\n      host: this._host\n    });\n    if (needsAppendHost) {\n      doc.body.appendChild(this._host);\n    }\n    return result;\n  }\n}\nFeedback.__initStatic();\nexport { Feedback, feedbackIntegration, sendFeedback };","map":{"version":3,"names":["WINDOW","GLOBAL_OBJ","LIGHT_BACKGROUND","INHERIT","SUBMIT_COLOR","LIGHT_THEME","fontFamily","fontSize","background","backgroundHover","foreground","border","borderRadius","boxShadow","success","error","submitBackground","submitBackgroundHover","submitBorder","submitOutlineFocus","submitForeground","submitForegroundHover","cancelBackground","cancelBackgroundHover","cancelBorder","cancelOutlineFocus","cancelForeground","cancelForegroundHover","inputBackground","inputForeground","inputBorder","inputOutlineFocus","formBorderRadius","formContentBorderRadius","DEFAULT_THEME","light","dark","ACTOR_LABEL","CANCEL_BUTTON_LABEL","SUBMIT_BUTTON_LABEL","FORM_TITLE","EMAIL_PLACEHOLDER","EMAIL_LABEL","MESSAGE_PLACEHOLDER","MESSAGE_LABEL","NAME_PLACEHOLDER","NAME_LABEL","SUCCESS_MESSAGE_TEXT","FEEDBACK_WIDGET_SOURCE","FEEDBACK_API_SOURCE","prepareFeedbackEvent","client","scope","event","eventHint","emit","preparedEvent","prepareEvent","getOptions","getIsolationScope","recordDroppedEvent","platform","sendFeedbackRequest","feedback","message","email","name","source","url","includeReplay","getClient","transport","getTransport","dsn","getDsn","baseEvent","contexts","contact_email","type","withScope","clearBreadcrumbs","includes","String","setLevel","feedbackEvent","Boolean","envelope","createEventEnvelope","_metadata","tunnel","response","send","err","Error","cause","e","statusCode","sendFeedback","getLocationHref","options","DEBUG_BUILD","__SENTRY_DEBUG__","mergeOptions","defaultOptions","optionOverrides","themeDark","themeLight","createActorStyles","d","style","createElement","textContent","createDialogStyles","getThemedCssVariables","theme","createMainStyles","colorScheme","themes","createShadowHost","id","doc","document","host","shadow","attachShadow","mode","appendChild","logger","warn","handleFeedbackSubmit","dialog","showFetchError","showError","hideError","resp","setAttributesNS","el","attributes","Object","entries","forEach","key","val","setAttributeNS","SIZE","XMLNS$2","Icon","createElementNS","tagName","svg","class","width","height","viewBox","fill","g","clipPath","path","speakerDefs","speakerClipPathDef","speakerRect","children","element","attribute","attributeValue","setAttribute","startsWith","addEventListener","substring","toLowerCase","child","parent","Array","isArray","value","createTextNode","Node","Actor","buttonLabel","onClick","_handleClick","className","show","classList","remove","hide","add","SubmitButton","label","retrieveStringValue","formData","get","trim","Form","nameLabel","namePlaceholder","emailLabel","emailPlaceholder","messageLabel","messagePlaceholder","cancelButtonLabel","submitButtonLabel","showName","showEmail","isNameRequired","isEmailRequired","defaultName","defaultEmail","onCancel","onSubmit","submitEl","handleSubmit","preventDefault","target","HTMLFormElement","FormData","e2","errorEl","nameEl","required","placeholder","emailEl","messageEl","autoFocus","rows","cancelEl","formEl","htmlFor","XMLNS$1","Logo","transform","append","defs","Dialog","formTitle","showBranding","onClosed","textLabels","handleDialogClick","close","open","checkIsOpen","stopPropagation","href","title","rel","WIDTH","HEIGHT","XMLNS","SuccessIcon","path2","SuccessMessage","onRemove","createWidget","shouldCreateActor","attachTo","actor","isDialogOpen","showSuccessMessage","successMessageText","timeoutId","clearTimeout","showActor","setTimeout","_handleFeedbackSubmit","emptyField","push","length","join","result","onSubmitError","removeDialog","onSubmitSuccess","handleOpenDialog","replay","getIntegrationByName","flush","catch","hideActor","removeActor","openDialog","onFormOpen","userKey","useSentryUser","getCurrentScope","user","getUser","onFormClose","closeDialog","dialogEl","undefined","handleActorClick","feedbackIntegration","Feedback","__initStatic","constructor","autoInject","_host","_shadow","_widget","_widgets","Set","_hasInsertedActorStyles","setupOnce","isBrowser","_cleanupWidgetIfExists","_createWidget","_ensureShadowHost","targetEl","querySelector","widget","removeWidget","has","delete","getWidget","_initialize","existingFeedback","cb","needsAppendHost","dataset","sentryFeedbackColorscheme","body"],"sources":["/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/constants.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/util/prepareFeedbackEvent.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/util/sendFeedbackRequest.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/sendFeedback.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/debug-build.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/util/mergeOptions.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/widget/Actor.css.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/widget/Dialog.css.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/widget/Main.css.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/widget/createShadowHost.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/util/handleFeedbackSubmit.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/util/setAttributesNS.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/widget/Icon.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/widget/util/createElement.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/widget/Actor.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/widget/SubmitButton.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/widget/Form.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/widget/Logo.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/widget/Dialog.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/widget/SuccessIcon.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/widget/SuccessMessage.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/widget/createWidget.ts","/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/src/integration.ts"],"sourcesContent":["import { GLOBAL_OBJ } from '@sentry/utils';\n\n// exporting a separate copy of `WINDOW` rather than exporting the one from `@sentry/browser`\n// prevents the browser package from being bundled in the CDN bundle, and avoids a\n// circular dependency between the browser and feedback packages\nexport const WINDOW = GLOBAL_OBJ as typeof GLOBAL_OBJ & Window;\n\nconst LIGHT_BACKGROUND = '#ffffff';\nconst INHERIT = 'inherit';\nconst SUBMIT_COLOR = 'rgba(108, 95, 199, 1)';\nconst LIGHT_THEME = {\n  fontFamily: \"system-ui, 'Helvetica Neue', Arial, sans-serif\",\n  fontSize: '14px',\n\n  background: LIGHT_BACKGROUND,\n  backgroundHover: '#f6f6f7',\n  foreground: '#2b2233',\n  border: '1.5px solid rgba(41, 35, 47, 0.13)',\n  borderRadius: '12px',\n  boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',\n\n  success: '#268d75',\n  error: '#df3338',\n\n  submitBackground: 'rgba(88, 74, 192, 1)',\n  submitBackgroundHover: SUBMIT_COLOR,\n  submitBorder: SUBMIT_COLOR,\n  submitOutlineFocus: '#29232f',\n  submitForeground: LIGHT_BACKGROUND,\n  submitForegroundHover: LIGHT_BACKGROUND,\n\n  cancelBackground: 'transparent',\n  cancelBackgroundHover: 'var(--background-hover)',\n  cancelBorder: 'var(--border)',\n  cancelOutlineFocus: 'var(--input-outline-focus)',\n  cancelForeground: 'var(--foreground)',\n  cancelForegroundHover: 'var(--foreground)',\n\n  inputBackground: INHERIT,\n  inputForeground: INHERIT,\n  inputBorder: 'var(--border)',\n  inputOutlineFocus: SUBMIT_COLOR,\n\n  formBorderRadius: '20px',\n  formContentBorderRadius: '6px',\n};\n\nexport const DEFAULT_THEME = {\n  light: LIGHT_THEME,\n  dark: {\n    ...LIGHT_THEME,\n\n    background: '#29232f',\n    backgroundHover: '#352f3b',\n    foreground: '#ebe6ef',\n    border: '1.5px solid rgba(235, 230, 239, 0.15)',\n\n    success: '#2da98c',\n    error: '#f55459',\n  },\n};\n\nexport const ACTOR_LABEL = 'Report a Bug';\nexport const CANCEL_BUTTON_LABEL = 'Cancel';\nexport const SUBMIT_BUTTON_LABEL = 'Send Bug Report';\nexport const FORM_TITLE = 'Report a Bug';\nexport const EMAIL_PLACEHOLDER = 'your.email@example.org';\nexport const EMAIL_LABEL = 'Email';\nexport const MESSAGE_PLACEHOLDER = \"What's the bug? What did you expect?\";\nexport const MESSAGE_LABEL = 'Description';\nexport const NAME_PLACEHOLDER = 'Your Name';\nexport const NAME_LABEL = 'Name';\nexport const SUCCESS_MESSAGE_TEXT = 'Thank you for your report!';\n\nexport const FEEDBACK_WIDGET_SOURCE = 'widget';\nexport const FEEDBACK_API_SOURCE = 'api';\n","import type { Scope } from '@sentry/core';\nimport { getIsolationScope } from '@sentry/core';\nimport { prepareEvent } from '@sentry/core';\nimport type { Client, FeedbackEvent } from '@sentry/types';\n\ninterface PrepareFeedbackEventParams {\n  client: Client;\n  event: FeedbackEvent;\n  scope: Scope;\n}\n/**\n * Prepare a feedback event & enrich it with the SDK metadata.\n */\nexport async function prepareFeedbackEvent({\n  client,\n  scope,\n  event,\n}: PrepareFeedbackEventParams): Promise<FeedbackEvent | null> {\n  const eventHint = {};\n  if (client.emit) {\n    client.emit('preprocessEvent', event, eventHint);\n  }\n\n  const preparedEvent = (await prepareEvent(\n    client.getOptions(),\n    event,\n    eventHint,\n    scope,\n    client,\n    getIsolationScope(),\n  )) as FeedbackEvent | null;\n\n  if (preparedEvent === null) {\n    // Taken from baseclient's `_processEvent` method, where this is handled for errors/transactions\n    client.recordDroppedEvent('event_processor', 'feedback', event);\n    return null;\n  }\n\n  // This normally happens in browser client \"_prepareEvent\"\n  // but since we do not use this private method from the client, but rather the plain import\n  // we need to do this manually.\n  preparedEvent.platform = preparedEvent.platform || 'javascript';\n\n  return preparedEvent;\n}\n","import { createEventEnvelope, getClient, withScope } from '@sentry/core';\nimport type { FeedbackEvent, TransportMakeRequestResponse } from '@sentry/types';\n\nimport { FEEDBACK_API_SOURCE, FEEDBACK_WIDGET_SOURCE } from '../constants';\nimport type { SendFeedbackData, SendFeedbackOptions } from '../types';\nimport { prepareFeedbackEvent } from './prepareFeedbackEvent';\n\n/**\n * Send feedback using transport\n */\nexport async function sendFeedbackRequest(\n  { feedback: { message, email, name, source, url } }: SendFeedbackData,\n  { includeReplay = true }: SendFeedbackOptions = {},\n): Promise<void | TransportMakeRequestResponse> {\n  const client = getClient();\n  const transport = client && client.getTransport();\n  const dsn = client && client.getDsn();\n\n  if (!client || !transport || !dsn) {\n    return;\n  }\n\n  const baseEvent: FeedbackEvent = {\n    contexts: {\n      feedback: {\n        contact_email: email,\n        name,\n        message,\n        url,\n        source,\n      },\n    },\n    type: 'feedback',\n  };\n\n  return withScope(async scope => {\n    // No use for breadcrumbs in feedback\n    scope.clearBreadcrumbs();\n\n    if ([FEEDBACK_API_SOURCE, FEEDBACK_WIDGET_SOURCE].includes(String(source))) {\n      scope.setLevel('info');\n    }\n\n    const feedbackEvent = await prepareFeedbackEvent({\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      scope: scope as any,\n      client,\n      event: baseEvent,\n    });\n\n    if (!feedbackEvent) {\n      return;\n    }\n\n    if (client.emit) {\n      client.emit('beforeSendFeedback', feedbackEvent, { includeReplay: Boolean(includeReplay) });\n    }\n\n    const envelope = createEventEnvelope(feedbackEvent, dsn, client.getOptions()._metadata, client.getOptions().tunnel);\n\n    let response: void | TransportMakeRequestResponse;\n\n    try {\n      response = await transport.send(envelope);\n    } catch (err) {\n      const error = new Error('Unable to send Feedback');\n\n      try {\n        // In case browsers don't allow this property to be writable\n        // @ts-expect-error This needs lib es2022 and newer\n        error.cause = err;\n      } catch {\n        // nothing to do\n      }\n      throw error;\n    }\n\n    // TODO (v8): we can remove this guard once transport.send's type signature doesn't include void anymore\n    if (!response) {\n      return;\n    }\n\n    // Require valid status codes, otherwise can assume feedback was not sent successfully\n    if (typeof response.statusCode === 'number' && (response.statusCode < 200 || response.statusCode >= 300)) {\n      throw new Error('Unable to send Feedback');\n    }\n\n    return response;\n  });\n}\n\n/*\n * For reference, the fully built event looks something like this:\n * {\n *     \"type\": \"feedback\",\n *     \"event_id\": \"d2132d31b39445f1938d7e21b6bf0ec4\",\n *     \"timestamp\": 1597977777.6189718,\n *     \"dist\": \"1.12\",\n *     \"platform\": \"javascript\",\n *     \"environment\": \"production\",\n *     \"release\": 42,\n *     \"tags\": {\"transaction\": \"/organizations/:orgId/performance/:eventSlug/\"},\n *     \"sdk\": {\"name\": \"name\", \"version\": \"version\"},\n *     \"user\": {\n *         \"id\": \"123\",\n *         \"username\": \"user\",\n *         \"email\": \"user@site.com\",\n *         \"ip_address\": \"192.168.11.12\",\n *     },\n *     \"request\": {\n *         \"url\": None,\n *         \"headers\": {\n *             \"user-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Safari/605.1.15\"\n *         },\n *     },\n *     \"contexts\": {\n *         \"feedback\": {\n *             \"message\": \"test message\",\n *             \"contact_email\": \"test@example.com\",\n *             \"type\": \"feedback\",\n *         },\n *         \"trace\": {\n *             \"trace_id\": \"4C79F60C11214EB38604F4AE0781BFB2\",\n *             \"span_id\": \"FA90FDEAD5F74052\",\n *             \"type\": \"trace\",\n *         },\n *         \"replay\": {\n *             \"replay_id\": \"e2d42047b1c5431c8cba85ee2a8ab25d\",\n *         },\n *     },\n *   }\n */\n","import { getLocationHref } from '@sentry/utils';\n\nimport { FEEDBACK_API_SOURCE } from './constants';\nimport type { SendFeedbackOptions } from './types';\nimport { sendFeedbackRequest } from './util/sendFeedbackRequest';\n\ninterface SendFeedbackParams {\n  message: string;\n  name?: string;\n  email?: string;\n  url?: string;\n  source?: string;\n}\n\n/**\n * Public API to send a Feedback item to Sentry\n */\nexport function sendFeedback(\n  { name, email, message, source = FEEDBACK_API_SOURCE, url = getLocationHref() }: SendFeedbackParams,\n  options: SendFeedbackOptions = {},\n): ReturnType<typeof sendFeedbackRequest> {\n  if (!message) {\n    throw new Error('Unable to submit feedback with empty message');\n  }\n\n  return sendFeedbackRequest(\n    {\n      feedback: {\n        name,\n        email,\n        message,\n        url,\n        source,\n      },\n    },\n    options,\n  );\n}\n","declare const __DEBUG_BUILD__: boolean;\n\n/**\n * This serves as a build time flag that will be true by default, but false in non-debug builds or if users replace `__SENTRY_DEBUG__` in their generated code.\n *\n * ATTENTION: This constant must never cross package boundaries (i.e. be exported) to guarantee that it can be used for tree shaking.\n */\nexport const DEBUG_BUILD = __DEBUG_BUILD__;\n","import type { FeedbackInternalOptions, OptionalFeedbackConfiguration } from '../types';\n\n/**\n * Quick and dirty deep merge for the Feedback integration options\n */\nexport function mergeOptions(\n  defaultOptions: FeedbackInternalOptions,\n  optionOverrides: OptionalFeedbackConfiguration,\n): FeedbackInternalOptions {\n  return {\n    ...defaultOptions,\n    ...optionOverrides,\n    themeDark: {\n      ...defaultOptions.themeDark,\n      ...optionOverrides.themeDark,\n    },\n    themeLight: {\n      ...defaultOptions.themeLight,\n      ...optionOverrides.themeLight,\n    },\n  };\n}\n","/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nexport function createActorStyles(d: Document): HTMLStyleElement {\n  const style = d.createElement('style');\n  style.textContent = `\n.widget__actor {\n  line-height: 25px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 12px 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n`;\n\n  return style;\n}\n","/**\n * Creates <style> element for widget dialog\n */\nexport function createDialogStyles(d: Document): HTMLStyleElement {\n  const style = d.createElement('style');\n\n  style.textContent = `\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: var(--form-border-radius);\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: var(--form-content-border-radius);\n  color: var(--input-foreground);\n  font-size: 14px;\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: var(--form-content-border-radius);\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n`;\n\n  return style;\n}\n","import type { FeedbackTheme, FeedbackThemes } from '../types';\n\nfunction getThemedCssVariables(theme: FeedbackTheme): string {\n  return `\n  --background: ${theme.background};\n  --background-hover: ${theme.backgroundHover};\n  --foreground: ${theme.foreground};\n  --error: ${theme.error};\n  --success: ${theme.success};\n  --border: ${theme.border};\n  --border-radius: ${theme.borderRadius};\n  --box-shadow: ${theme.boxShadow};\n\n  --submit-background: ${theme.submitBackground};\n  --submit-background-hover: ${theme.submitBackgroundHover};\n  --submit-border: ${theme.submitBorder};\n  --submit-outline-focus: ${theme.submitOutlineFocus};\n  --submit-foreground: ${theme.submitForeground};\n  --submit-foreground-hover: ${theme.submitForegroundHover};\n\n  --cancel-background: ${theme.cancelBackground};\n  --cancel-background-hover: ${theme.cancelBackgroundHover};\n  --cancel-border: ${theme.cancelBorder};\n  --cancel-outline-focus: ${theme.cancelOutlineFocus};\n  --cancel-foreground: ${theme.cancelForeground};\n  --cancel-foreground-hover: ${theme.cancelForegroundHover};\n\n  --input-background: ${theme.inputBackground};\n  --input-foreground: ${theme.inputForeground};\n  --input-border: ${theme.inputBorder};\n  --input-outline-focus: ${theme.inputOutlineFocus};\n\n  --form-border-radius: ${theme.formBorderRadius};\n  --form-content-border-radius: ${theme.formContentBorderRadius};\n  `;\n}\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nexport function createMainStyles(\n  d: Document,\n  colorScheme: 'system' | 'dark' | 'light',\n  themes: FeedbackThemes,\n): HTMLStyleElement {\n  const style = d.createElement('style');\n  style.textContent = `\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${themes.light.fontFamily};\n  --font-size: ${themes.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${getThemedCssVariables(colorScheme === 'dark' ? themes.dark : themes.light)}\n}\n\n${\n  colorScheme === 'system'\n    ? `\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${getThemedCssVariables(themes.dark)}\n  }\n}`\n    : ''\n}\n}`;\n\n  return style;\n}\n","import { logger } from '@sentry/utils';\n\nimport { WINDOW } from '../constants';\nimport type { FeedbackInternalOptions } from '../types';\nimport { createDialogStyles } from './Dialog.css';\nimport { createMainStyles } from './Main.css';\n\ntype CreateShadowHostParams = Pick<FeedbackInternalOptions, 'id' | 'colorScheme' | 'themeDark' | 'themeLight'>;\n\n/**\n * Creates shadow host\n */\nexport function createShadowHost({ id, colorScheme, themeDark, themeLight }: CreateShadowHostParams): {\n  shadow: ShadowRoot;\n  host: HTMLDivElement;\n} {\n  try {\n    const doc = WINDOW.document;\n\n    // Create the host\n    const host = doc.createElement('div');\n    host.id = id;\n\n    // Create the shadow root\n    const shadow = host.attachShadow({ mode: 'open' });\n\n    shadow.appendChild(createMainStyles(doc, colorScheme, { dark: themeDark, light: themeLight }));\n    shadow.appendChild(createDialogStyles(doc));\n\n    return { shadow, host };\n  } catch {\n    // Shadow DOM probably not supported\n    logger.warn('[Feedback] Browser does not support shadow DOM API');\n    throw new Error('Browser does not support shadow DOM API.');\n  }\n}\n","import type { TransportMakeRequestResponse } from '@sentry/types';\nimport { logger } from '@sentry/utils';\n\nimport { FEEDBACK_WIDGET_SOURCE } from '../constants';\nimport { DEBUG_BUILD } from '../debug-build';\nimport { sendFeedback } from '../sendFeedback';\nimport type { FeedbackFormData, SendFeedbackOptions } from '../types';\nimport type { DialogComponent } from '../widget/Dialog';\n\n/**\n * Handles UI behavior of dialog when feedback is submitted, calls\n * `sendFeedback` to send feedback.\n */\nexport async function handleFeedbackSubmit(\n  dialog: DialogComponent | null,\n  feedback: FeedbackFormData,\n  options?: SendFeedbackOptions,\n): Promise<TransportMakeRequestResponse | void> {\n  if (!dialog) {\n    // Not sure when this would happen\n    return;\n  }\n\n  const showFetchError = (): void => {\n    if (!dialog) {\n      return;\n    }\n    dialog.showError('There was a problem submitting feedback, please wait and try again.');\n  };\n\n  dialog.hideError();\n\n  try {\n    const resp = await sendFeedback({ ...feedback, source: FEEDBACK_WIDGET_SOURCE }, options);\n\n    // Success!\n    return resp;\n  } catch (err) {\n    DEBUG_BUILD && logger.error(err);\n    showFetchError();\n  }\n}\n","/**\n * Helper function to set a dict of attributes on element (w/ specified namespace)\n */\nexport function setAttributesNS<T extends SVGElement>(el: T, attributes: Record<string, string>): T {\n  Object.entries(attributes).forEach(([key, val]) => {\n    el.setAttributeNS(null, key, val);\n  });\n  return el;\n}\n","import { WINDOW } from '../constants';\nimport { setAttributesNS } from '../util/setAttributesNS';\n\nconst SIZE = 20;\nconst XMLNS = 'http://www.w3.org/2000/svg';\n\ninterface IconReturn {\n  el: SVGElement;\n}\n\n/**\n * Feedback Icon\n */\nexport function Icon(): IconReturn {\n  const createElementNS = <K extends keyof SVGElementTagNameMap>(tagName: K): SVGElementTagNameMap[K] =>\n    WINDOW.document.createElementNS(XMLNS, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    class: 'feedback-icon',\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    viewBox: `0 0 ${SIZE} ${SIZE}`,\n    fill: 'none',\n  });\n\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_80)',\n  });\n\n  const path = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z',\n  });\n  svg.appendChild(g).appendChild(path);\n\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_80',\n  });\n\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    fill: 'white',\n  });\n\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n\n  return {\n    get el() {\n      return svg;\n    },\n  };\n}\n","import { WINDOW } from '../../constants';\n\n/**\n * Helper function to create an element. Could be used as a JSX factory\n * (i.e. React-like syntax).\n */\nexport function createElement<K extends keyof HTMLElementTagNameMap>(\n  tagName: K,\n  attributes: { [key: string]: string | boolean | EventListenerOrEventListenerObject } | null,\n  ...children: any\n): HTMLElementTagNameMap[K] {\n  const doc = WINDOW.document;\n  const element = doc.createElement(tagName);\n\n  if (attributes) {\n    Object.entries(attributes).forEach(([attribute, attributeValue]) => {\n      if (attribute === 'className' && typeof attributeValue === 'string') {\n        // JSX does not allow class as a valid name\n        element.setAttribute('class', attributeValue);\n      } else if (typeof attributeValue === 'boolean' && attributeValue) {\n        element.setAttribute(attribute, '');\n      } else if (typeof attributeValue === 'string') {\n        element.setAttribute(attribute, attributeValue);\n      } else if (attribute.startsWith('on') && typeof attributeValue === 'function') {\n        element.addEventListener(attribute.substring(2).toLowerCase(), attributeValue);\n      }\n    });\n  }\n  for (const child of children) {\n    appendChild(element, child);\n  }\n\n  return element;\n}\n\nfunction appendChild(parent: Node, child: any): void {\n  const doc = WINDOW.document;\n  if (typeof child === 'undefined' || child === null) {\n    return;\n  }\n\n  if (Array.isArray(child)) {\n    for (const value of child) {\n      appendChild(parent, value);\n    }\n  } else if (child === false) {\n    // do nothing if child evaluated to false\n  } else if (typeof child === 'string') {\n    parent.appendChild(doc.createTextNode(child));\n  } else if (child instanceof Node) {\n    parent.appendChild(child);\n  } else {\n    parent.appendChild(doc.createTextNode(String(child)));\n  }\n}\n","import type { FeedbackComponent, FeedbackInternalOptions } from '../types';\nimport { Icon } from './Icon';\nimport { createElement } from './util/createElement';\n\nexport interface ActorProps extends Pick<FeedbackInternalOptions, 'buttonLabel'> {\n  onClick?: (e: MouseEvent) => void;\n}\n\nexport interface ActorComponent extends FeedbackComponent<HTMLButtonElement> {\n  /**\n   * Shows the actor element\n   */\n  show: () => void;\n  /**\n   * Hides the actor element\n   */\n  hide: () => void;\n}\n\n/**\n *\n */\nexport function Actor({ buttonLabel, onClick }: ActorProps): ActorComponent {\n  function _handleClick(e: MouseEvent): void {\n    onClick && onClick(e);\n  }\n\n  const el = createElement(\n    'button',\n    {\n      type: 'button',\n      className: 'widget__actor',\n      ['aria-label']: buttonLabel,\n      ['aria-hidden']: 'false',\n    },\n    Icon().el,\n    buttonLabel\n      ? createElement(\n          'span',\n          {\n            className: 'widget__actor__text',\n          },\n          buttonLabel,\n        )\n      : null,\n  );\n\n  el.addEventListener('click', _handleClick);\n\n  return {\n    get el() {\n      return el;\n    },\n    show: (): void => {\n      el.classList.remove('widget__actor--hidden');\n      el.setAttribute('aria-hidden', 'false');\n    },\n    hide: (): void => {\n      el.classList.add('widget__actor--hidden');\n      el.setAttribute('aria-hidden', 'true');\n    },\n  };\n}\n","import type { FeedbackComponent } from '../types';\nimport { createElement } from './util/createElement';\n\nexport interface SubmitButtonProps {\n  label: string;\n}\n\ntype SubmitButtonComponent = FeedbackComponent<HTMLButtonElement>;\n\n/**\n *\n */\nexport function SubmitButton({ label }: SubmitButtonProps): SubmitButtonComponent {\n  const el = createElement(\n    'button',\n    {\n      type: 'submit',\n      className: 'btn btn--primary',\n      ['aria-label']: label,\n    },\n    label,\n  );\n\n  return {\n    el,\n  };\n}\n","import type { FeedbackComponent, FeedbackFormData, FeedbackInternalOptions, FeedbackTextConfiguration } from '../types';\nimport { SubmitButton } from './SubmitButton';\nimport { createElement } from './util/createElement';\n\nexport interface FormComponentProps\n  extends Pick<\n    FeedbackInternalOptions,\n    | 'showName'\n    | 'showEmail'\n    | 'isNameRequired'\n    | 'isEmailRequired'\n    | Exclude<keyof FeedbackTextConfiguration, 'buttonLabel' | 'formTitle' | 'successMessageText'>\n  > {\n  /**\n   * A default name value to render the input with. Empty strings are ok.\n   */\n  defaultName: string;\n  /**\n   * A default email value to render the input with. Empty strings are ok.\n   */\n  defaultEmail: string;\n  onCancel?: (e: Event) => void;\n  onSubmit?: (feedback: FeedbackFormData) => void;\n}\n\ninterface FormComponent extends FeedbackComponent<HTMLFormElement> {\n  /**\n   * Shows the error message\n   */\n  showError: (message: string) => void;\n\n  /**\n   * Hides the error message\n   */\n  hideError: () => void;\n}\n\nfunction retrieveStringValue(formData: FormData, key: string): string {\n  const value = formData.get(key);\n  if (typeof value === 'string') {\n    return value.trim();\n  }\n  return '';\n}\n\n/**\n * Creates the form element\n */\nexport function Form({\n  nameLabel,\n  namePlaceholder,\n  emailLabel,\n  emailPlaceholder,\n  messageLabel,\n  messagePlaceholder,\n  cancelButtonLabel,\n  submitButtonLabel,\n\n  showName,\n  showEmail,\n  isNameRequired,\n  isEmailRequired,\n\n  defaultName,\n  defaultEmail,\n  onCancel,\n  onSubmit,\n}: FormComponentProps): FormComponent {\n  const { el: submitEl } = SubmitButton({\n    label: submitButtonLabel,\n  });\n\n  function handleSubmit(e: Event): void {\n    e.preventDefault();\n\n    if (!(e.target instanceof HTMLFormElement)) {\n      return;\n    }\n\n    try {\n      if (onSubmit) {\n        const formData = new FormData(e.target as HTMLFormElement);\n        const feedback = {\n          name: retrieveStringValue(formData, 'name'),\n          email: retrieveStringValue(formData, 'email'),\n          message: retrieveStringValue(formData, 'message'),\n        };\n\n        onSubmit(feedback);\n      }\n    } catch {\n      // pass\n    }\n  }\n\n  const errorEl = createElement('div', {\n    className: 'form__error-container form__error-container--hidden',\n    ['aria-hidden']: 'true',\n  });\n\n  function showError(message: string): void {\n    errorEl.textContent = message;\n    errorEl.classList.remove('form__error-container--hidden');\n    errorEl.setAttribute('aria-hidden', 'false');\n  }\n\n  function hideError(): void {\n    errorEl.textContent = '';\n    errorEl.classList.add('form__error-container--hidden');\n    errorEl.setAttribute('aria-hidden', 'true');\n  }\n\n  const nameEl = createElement('input', {\n    id: 'name',\n    type: showName ? 'text' : 'hidden',\n    ['aria-hidden']: showName ? 'false' : 'true',\n    name: 'name',\n    required: isNameRequired,\n    className: 'form__input',\n    placeholder: namePlaceholder,\n    value: defaultName,\n  });\n\n  const emailEl = createElement('input', {\n    id: 'email',\n    type: showEmail ? 'text' : 'hidden',\n    ['aria-hidden']: showEmail ? 'false' : 'true',\n    name: 'email',\n    required: isEmailRequired,\n    className: 'form__input',\n    placeholder: emailPlaceholder,\n    value: defaultEmail,\n  });\n\n  const messageEl = createElement('textarea', {\n    id: 'message',\n    autoFocus: 'true',\n    rows: '5',\n    name: 'message',\n    required: true,\n    className: 'form__input form__input--textarea',\n    placeholder: messagePlaceholder,\n  });\n\n  const cancelEl = createElement(\n    'button',\n    {\n      type: 'button',\n      className: 'btn btn--default',\n      ['aria-label']: cancelButtonLabel,\n      onClick: (e: Event) => {\n        onCancel && onCancel(e);\n      },\n    },\n    cancelButtonLabel,\n  );\n\n  const formEl = createElement(\n    'form',\n    {\n      className: 'form',\n      onSubmit: handleSubmit,\n    },\n    [\n      errorEl,\n\n      showName &&\n        createElement(\n          'label',\n          {\n            htmlFor: 'name',\n            className: 'form__label',\n          },\n          [\n            createElement(\n              'span',\n              { className: 'form__label__text' },\n              nameLabel,\n              isNameRequired && createElement('span', { className: 'form__label__text--required' }, ' (required)'),\n            ),\n            nameEl,\n          ],\n        ),\n      !showName && nameEl,\n\n      showEmail &&\n        createElement(\n          'label',\n          {\n            htmlFor: 'email',\n            className: 'form__label',\n          },\n          [\n            createElement(\n              'span',\n              { className: 'form__label__text' },\n              emailLabel,\n              isEmailRequired && createElement('span', { className: 'form__label__text--required' }, ' (required)'),\n            ),\n            emailEl,\n          ],\n        ),\n      !showEmail && emailEl,\n\n      createElement(\n        'label',\n        {\n          htmlFor: 'message',\n          className: 'form__label',\n        },\n        [\n          createElement(\n            'span',\n            { className: 'form__label__text' },\n            messageLabel,\n            createElement('span', { className: 'form__label__text--required' }, ' (required)'),\n          ),\n          messageEl,\n        ],\n      ),\n\n      createElement(\n        'div',\n        {\n          className: 'btn-group',\n        },\n        [submitEl, cancelEl],\n      ),\n    ],\n  );\n\n  return {\n    get el() {\n      return formEl;\n    },\n    showError,\n    hideError,\n  };\n}\n","import { WINDOW } from '../constants';\nimport type { FeedbackInternalOptions } from '../types';\nimport { setAttributesNS } from '../util/setAttributesNS';\n\nconst XMLNS = 'http://www.w3.org/2000/svg';\n\ninterface IconReturn {\n  el: SVGElement;\n}\n\ntype Props = Pick<FeedbackInternalOptions, 'colorScheme'>;\n\n/**\n * Sentry Logo\n */\nexport function Logo({ colorScheme }: Props): IconReturn {\n  const createElementNS = <K extends keyof SVGElementTagNameMap>(tagName: K): SVGElementTagNameMap[K] =>\n    WINDOW.document.createElementNS(XMLNS, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    class: 'sentry-logo',\n    width: '32',\n    height: '30',\n    viewBox: '0 0 72 66',\n    fill: 'none',\n  });\n\n  const path = setAttributesNS(createElementNS('path'), {\n    transform: 'translate(11, 11)',\n    d: 'M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z',\n  });\n  svg.append(path);\n\n  const defs = createElementNS('defs');\n  const style = createElementNS('style');\n\n  style.textContent = `\n    path {\n      fill: ${colorScheme === 'dark' ? '#fff' : '#362d59'};\n    }`;\n\n  if (colorScheme === 'system') {\n    style.textContent += `\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    `;\n  }\n\n  defs.append(style);\n  svg.append(defs);\n\n  return {\n    get el() {\n      return svg;\n    },\n  };\n}\n","import type { FeedbackComponent, FeedbackInternalOptions } from '../types';\nimport type { FormComponentProps } from './Form';\nimport { Form } from './Form';\nimport { Logo } from './Logo';\nimport { createElement } from './util/createElement';\n\nexport interface DialogProps\n  extends FormComponentProps,\n    Pick<FeedbackInternalOptions, 'formTitle' | 'showBranding' | 'colorScheme'> {\n  onClosed?: () => void;\n}\n\nexport interface DialogComponent extends FeedbackComponent<HTMLDialogElement> {\n  /**\n   * Shows the error message\n   */\n  showError: (message: string) => void;\n\n  /**\n   * Hides the error message\n   */\n  hideError: () => void;\n\n  /**\n   * Opens and shows the dialog and form\n   */\n  open: () => void;\n\n  /**\n   * Closes the dialog and form\n   */\n  close: () => void;\n\n  /**\n   * Check if dialog is currently opened\n   */\n  checkIsOpen: () => boolean;\n}\n\n/**\n * Feedback dialog component that has the form\n */\nexport function Dialog({\n  formTitle,\n  showBranding,\n  showName,\n  showEmail,\n  isNameRequired,\n  isEmailRequired,\n  colorScheme,\n  defaultName,\n  defaultEmail,\n  onClosed,\n  onCancel,\n  onSubmit,\n  ...textLabels\n}: DialogProps): DialogComponent {\n  let el: HTMLDialogElement | null = null;\n\n  /**\n   * Handles when the dialog is clicked. In our case, the dialog is the\n   * semi-transparent bg behind the form. We want clicks outside of the form to\n   * hide the form.\n   */\n  function handleDialogClick(): void {\n    close();\n\n    // Only this should trigger `onClose`, we don't want the `close()` method to\n    // trigger it, otherwise it can cause cycles.\n    onClosed && onClosed();\n  }\n\n  /**\n   * Close the dialog\n   */\n  function close(): void {\n    if (el) {\n      el.open = false;\n    }\n  }\n\n  /**\n   * Opens the dialog\n   */\n  function open(): void {\n    if (el) {\n      el.open = true;\n    }\n  }\n\n  /**\n   * Check if dialog is currently opened\n   */\n  function checkIsOpen(): boolean {\n    return (el && el.open === true) || false;\n  }\n\n  const {\n    el: formEl,\n    showError,\n    hideError,\n  } = Form({\n    showEmail,\n    showName,\n    isEmailRequired,\n    isNameRequired,\n\n    defaultName,\n    defaultEmail,\n    onSubmit,\n    onCancel,\n    ...textLabels,\n  });\n\n  el = createElement(\n    'dialog',\n    {\n      className: 'dialog',\n      open: true,\n      onClick: handleDialogClick,\n    },\n    createElement(\n      'div',\n      {\n        className: 'dialog__content',\n        onClick: e => {\n          // Stop event propagation so clicks on content modal do not propagate to dialog (which will close dialog)\n          e.stopPropagation();\n        },\n      },\n      createElement(\n        'h2',\n        { className: 'dialog__header' },\n        formTitle,\n        showBranding &&\n          createElement(\n            'a',\n            {\n              className: 'brand-link',\n              target: '_blank',\n              href: 'https://sentry.io/welcome/',\n              title: 'Powered by Sentry',\n              rel: 'noopener noreferrer',\n            },\n            Logo({ colorScheme }).el,\n          ),\n      ),\n      formEl,\n    ),\n  );\n\n  return {\n    get el() {\n      return el;\n    },\n    showError,\n    hideError,\n    open,\n    close,\n    checkIsOpen,\n  };\n}\n","import { WINDOW } from '../constants';\nimport { setAttributesNS } from '../util/setAttributesNS';\n\nconst WIDTH = 16;\nconst HEIGHT = 17;\nconst XMLNS = 'http://www.w3.org/2000/svg';\n\ninterface IconReturn {\n  el: SVGElement;\n}\n\n/**\n * Success Icon (checkmark)\n */\nexport function SuccessIcon(): IconReturn {\n  const createElementNS = <K extends keyof SVGElementTagNameMap>(tagName: K): SVGElementTagNameMap[K] =>\n    WINDOW.document.createElementNS(XMLNS, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    class: 'success-icon',\n    width: `${WIDTH}`,\n    height: `${HEIGHT}`,\n    viewBox: `0 0 ${WIDTH} ${HEIGHT}`,\n    fill: 'none',\n  });\n\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_156)',\n  });\n\n  const path2 = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z',\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    d: 'M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z',\n  });\n\n  svg.appendChild(g).append(path, path2);\n\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_156',\n  });\n\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${WIDTH}`,\n    height: `${WIDTH}`,\n    fill: 'white',\n    transform: 'translate(0 0.5)',\n  });\n\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n\n  return {\n    get el() {\n      return svg;\n    },\n  };\n}\n","import type { FeedbackComponent } from '../types';\nimport { SuccessIcon } from './SuccessIcon';\nimport { createElement } from './util/createElement';\n\nexport interface SuccessMessageProps {\n  message: string;\n  onRemove?: () => void;\n}\n\ninterface SuccessMessageComponent extends FeedbackComponent<HTMLDivElement> {\n  /**\n   * Removes the component\n   */\n  remove: () => void;\n}\n\n/**\n * Feedback dialog component that has the form\n */\nexport function SuccessMessage({ message, onRemove }: SuccessMessageProps): SuccessMessageComponent {\n  function remove(): void {\n    if (!el) {\n      return;\n    }\n\n    el.remove();\n    onRemove && onRemove();\n  }\n\n  const el = createElement(\n    'div',\n    {\n      className: 'success-message',\n      onClick: remove,\n    },\n    SuccessIcon().el,\n    message,\n  );\n\n  return {\n    el,\n    remove,\n  };\n}\n","import { getClient, getCurrentScope } from '@sentry/core';\nimport { logger } from '@sentry/utils';\n\nimport type { FeedbackFormData, FeedbackInternalOptions, FeedbackWidget } from '../types';\nimport { handleFeedbackSubmit } from '../util/handleFeedbackSubmit';\nimport type { ActorComponent } from './Actor';\nimport { Actor } from './Actor';\nimport type { DialogComponent } from './Dialog';\nimport { Dialog } from './Dialog';\nimport { SuccessMessage } from './SuccessMessage';\n\nimport { DEBUG_BUILD } from '../debug-build';\n\ninterface CreateWidgetParams {\n  /**\n   * Shadow DOM to append to\n   */\n  shadow: ShadowRoot;\n\n  /**\n   * Feedback integration options\n   */\n  options: FeedbackInternalOptions & { shouldCreateActor?: boolean };\n\n  /**\n   * An element to attach to, that when clicked, will open a dialog\n   */\n  attachTo?: Element;\n\n  /**\n   * If false, will not create an actor\n   */\n  shouldCreateActor?: boolean;\n}\n\n/**\n * Creates a new widget. Returns public methods that control widget behavior.\n */\nexport function createWidget({\n  shadow,\n  options: { shouldCreateActor = true, ...options },\n  attachTo,\n}: CreateWidgetParams): FeedbackWidget {\n  let actor: ActorComponent | undefined;\n  let dialog: DialogComponent | undefined;\n  let isDialogOpen: boolean = false;\n\n  /**\n   * Show the success message for 5 seconds\n   */\n  function showSuccessMessage(): void {\n    if (!shadow) {\n      return;\n    }\n\n    try {\n      const success = SuccessMessage({\n        message: options.successMessageText,\n        onRemove: () => {\n          if (timeoutId) {\n            clearTimeout(timeoutId);\n          }\n          showActor();\n        },\n      });\n\n      if (!success.el) {\n        throw new Error('Unable to show success message');\n      }\n\n      shadow.appendChild(success.el);\n\n      const timeoutId = setTimeout(() => {\n        if (success) {\n          success.remove();\n        }\n      }, 5000);\n    } catch (err) {\n      // TODO: error handling\n      logger.error(err);\n    }\n  }\n\n  /**\n   * Handler for when the feedback form is completed by the user. This will\n   * create and send the feedback message as an event.\n   */\n  async function _handleFeedbackSubmit(feedback: FeedbackFormData): Promise<void> {\n    if (!dialog) {\n      return;\n    }\n\n    // Simple validation for now, just check for non-empty required fields\n    const emptyField = [];\n    if (options.isNameRequired && !feedback.name) {\n      emptyField.push(options.nameLabel);\n    }\n    if (options.isEmailRequired && !feedback.email) {\n      emptyField.push(options.emailLabel);\n    }\n    if (!feedback.message) {\n      emptyField.push(options.messageLabel);\n    }\n    if (emptyField.length > 0) {\n      dialog.showError(`Please enter in the following required fields: ${emptyField.join(', ')}`);\n      return;\n    }\n\n    const result = await handleFeedbackSubmit(dialog, feedback);\n\n    // Error submitting feedback\n    if (!result) {\n      if (options.onSubmitError) {\n        options.onSubmitError();\n      }\n\n      return;\n    }\n\n    // Success\n    removeDialog();\n    showSuccessMessage();\n\n    if (options.onSubmitSuccess) {\n      options.onSubmitSuccess();\n    }\n  }\n\n  /**\n   * Internal handler when dialog is opened\n   */\n  function handleOpenDialog(): void {\n    // Flush replay if integration exists\n    const client = getClient();\n    const replay =\n      client &&\n      client.getIntegrationByName &&\n      client.getIntegrationByName<{ name: string; flush: () => Promise<void>; setupOnce: () => void }>('Replay');\n    if (!replay) {\n      return;\n    }\n    replay.flush().catch(err => {\n      DEBUG_BUILD && logger.error(err);\n    });\n  }\n\n  /**\n   * Displays the default actor\n   */\n  function showActor(): void {\n    actor && actor.show();\n  }\n\n  /**\n   * Hides the default actor\n   */\n  function hideActor(): void {\n    actor && actor.hide();\n  }\n\n  /**\n   * Removes the default actor element\n   */\n  function removeActor(): void {\n    actor && actor.el && actor.el.remove();\n  }\n\n  /**\n   *\n   */\n  function openDialog(): void {\n    try {\n      if (dialog) {\n        dialog.open();\n        isDialogOpen = true;\n        if (options.onFormOpen) {\n          options.onFormOpen();\n        }\n        handleOpenDialog();\n        return;\n      }\n\n      const userKey = options.useSentryUser;\n      const scope = getCurrentScope();\n      const user = scope && scope.getUser();\n\n      dialog = Dialog({\n        colorScheme: options.colorScheme,\n        showBranding: options.showBranding,\n        showName: options.showName || options.isNameRequired,\n        showEmail: options.showEmail || options.isEmailRequired,\n        isNameRequired: options.isNameRequired,\n        isEmailRequired: options.isEmailRequired,\n        formTitle: options.formTitle,\n        cancelButtonLabel: options.cancelButtonLabel,\n        submitButtonLabel: options.submitButtonLabel,\n        emailLabel: options.emailLabel,\n        emailPlaceholder: options.emailPlaceholder,\n        messageLabel: options.messageLabel,\n        messagePlaceholder: options.messagePlaceholder,\n        nameLabel: options.nameLabel,\n        namePlaceholder: options.namePlaceholder,\n        defaultName: (userKey && user && user[userKey.name]) || '',\n        defaultEmail: (userKey && user && user[userKey.email]) || '',\n        onClosed: () => {\n          showActor();\n          isDialogOpen = false;\n\n          if (options.onFormClose) {\n            options.onFormClose();\n          }\n        },\n        onCancel: () => {\n          closeDialog();\n          showActor();\n        },\n        onSubmit: _handleFeedbackSubmit,\n      });\n\n      if (!dialog.el) {\n        throw new Error('Unable to open Feedback dialog');\n      }\n\n      shadow.appendChild(dialog.el);\n\n      // Hides the default actor whenever dialog is opened\n      hideActor();\n\n      if (options.onFormOpen) {\n        options.onFormOpen();\n      }\n      handleOpenDialog();\n    } catch (err) {\n      // TODO: Error handling?\n      logger.error(err);\n    }\n  }\n\n  /**\n   * Closes the dialog\n   */\n  function closeDialog(): void {\n    if (dialog) {\n      dialog.close();\n      isDialogOpen = false;\n\n      if (options.onFormClose) {\n        options.onFormClose();\n      }\n    }\n  }\n\n  /**\n   * Removes the dialog element from DOM\n   */\n  function removeDialog(): void {\n    if (dialog) {\n      closeDialog();\n      const dialogEl = dialog.el;\n      dialogEl && dialogEl.remove();\n      dialog = undefined;\n    }\n  }\n\n  /**\n   *\n   */\n  function handleActorClick(): void {\n    // Open dialog\n    if (!isDialogOpen) {\n      openDialog();\n    }\n\n    // Hide actor button\n    hideActor();\n  }\n\n  if (attachTo) {\n    attachTo.addEventListener('click', handleActorClick);\n  } else if (shouldCreateActor) {\n    actor = Actor({ buttonLabel: options.buttonLabel, onClick: handleActorClick });\n    actor.el && shadow.appendChild(actor.el);\n  }\n\n  return {\n    get actor() {\n      return actor;\n    },\n    get dialog() {\n      return dialog;\n    },\n\n    showActor,\n    hideActor,\n    removeActor,\n\n    openDialog,\n    closeDialog,\n    removeDialog,\n  };\n}\n","import type { Integration, IntegrationFn } from '@sentry/types';\nimport { isBrowser, logger } from '@sentry/utils';\n\nimport {\n  ACTOR_LABEL,\n  CANCEL_BUTTON_LABEL,\n  DEFAULT_THEME,\n  EMAIL_LABEL,\n  EMAIL_PLACEHOLDER,\n  FORM_TITLE,\n  MESSAGE_LABEL,\n  MESSAGE_PLACEHOLDER,\n  NAME_LABEL,\n  NAME_PLACEHOLDER,\n  SUBMIT_BUTTON_LABEL,\n  SUCCESS_MESSAGE_TEXT,\n  WINDOW,\n} from './constants';\nimport { DEBUG_BUILD } from './debug-build';\nimport type { FeedbackInternalOptions, FeedbackWidget, OptionalFeedbackConfiguration } from './types';\nimport { mergeOptions } from './util/mergeOptions';\nimport { createActorStyles } from './widget/Actor.css';\nimport { createShadowHost } from './widget/createShadowHost';\nimport { createWidget } from './widget/createWidget';\n\nconst doc = WINDOW.document;\n\nexport const feedbackIntegration = ((options?: OptionalFeedbackConfiguration) => {\n  // eslint-disable-next-line deprecation/deprecation\n  return new Feedback(options);\n}) satisfies IntegrationFn;\n\n/**\n * Feedback integration. When added as an integration to the SDK, it will\n * inject a button in the bottom-right corner of the window that opens a\n * feedback modal when clicked.\n *\n * @deprecated Use `feedbackIntegration()` instead.\n */\nexport class Feedback implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'Feedback';\n\n  /**\n   * @inheritDoc\n   */\n  public name: string;\n\n  /**\n   * Feedback configuration options\n   */\n  public options: FeedbackInternalOptions;\n\n  /**\n   * Reference to widget element that is created when autoInject is true\n   */\n  private _widget: FeedbackWidget | null;\n\n  /**\n   * List of all widgets that are created from the integration\n   */\n  private _widgets: Set<FeedbackWidget>;\n\n  /**\n   * Reference to the host element where widget is inserted\n   */\n  private _host: HTMLDivElement | null;\n\n  /**\n   * Refernce to Shadow DOM root\n   */\n  private _shadow: ShadowRoot | null;\n\n  /**\n   * Tracks if actor styles have ever been inserted into shadow DOM\n   */\n  private _hasInsertedActorStyles: boolean;\n\n  public constructor({\n    autoInject = true,\n    id = 'sentry-feedback',\n    isEmailRequired = false,\n    isNameRequired = false,\n    showBranding = true,\n    showEmail = true,\n    showName = true,\n    useSentryUser = {\n      email: 'email',\n      name: 'username',\n    },\n\n    themeDark,\n    themeLight,\n    colorScheme = 'system',\n\n    buttonLabel = ACTOR_LABEL,\n    cancelButtonLabel = CANCEL_BUTTON_LABEL,\n    submitButtonLabel = SUBMIT_BUTTON_LABEL,\n    formTitle = FORM_TITLE,\n    emailPlaceholder = EMAIL_PLACEHOLDER,\n    emailLabel = EMAIL_LABEL,\n    messagePlaceholder = MESSAGE_PLACEHOLDER,\n    messageLabel = MESSAGE_LABEL,\n    namePlaceholder = NAME_PLACEHOLDER,\n    nameLabel = NAME_LABEL,\n    successMessageText = SUCCESS_MESSAGE_TEXT,\n\n    onFormClose,\n    onFormOpen,\n    onSubmitError,\n    onSubmitSuccess,\n  }: OptionalFeedbackConfiguration = {}) {\n    // eslint-disable-next-line deprecation/deprecation\n    this.name = Feedback.id;\n\n    // tsc fails if these are not initialized explicitly constructor, e.g. can't call `_initialize()`\n    this._host = null;\n    this._shadow = null;\n    this._widget = null;\n    this._widgets = new Set();\n    this._hasInsertedActorStyles = false;\n\n    this.options = {\n      autoInject,\n      showBranding,\n      id,\n      isEmailRequired,\n      isNameRequired,\n      showEmail,\n      showName,\n      useSentryUser,\n\n      colorScheme,\n      themeDark: {\n        ...DEFAULT_THEME.dark,\n        ...themeDark,\n      },\n      themeLight: {\n        ...DEFAULT_THEME.light,\n        ...themeLight,\n      },\n\n      buttonLabel,\n      cancelButtonLabel,\n      submitButtonLabel,\n      formTitle,\n      emailLabel,\n      emailPlaceholder,\n      messageLabel,\n      messagePlaceholder,\n      nameLabel,\n      namePlaceholder,\n      successMessageText,\n\n      onFormClose,\n      onFormOpen,\n      onSubmitError,\n      onSubmitSuccess,\n    };\n  }\n\n  /**\n   * Setup and initialize feedback container\n   */\n  public setupOnce(): void {\n    if (!isBrowser()) {\n      return;\n    }\n\n    try {\n      this._cleanupWidgetIfExists();\n\n      const { autoInject } = this.options;\n\n      if (!autoInject) {\n        // Nothing to do here\n        return;\n      }\n\n      this._createWidget(this.options);\n    } catch (err) {\n      DEBUG_BUILD && logger.error(err);\n    }\n  }\n\n  /**\n   * Allows user to open the dialog box. Creates a new widget if\n   * `autoInject` was false, otherwise re-uses the default widget that was\n   * created during initialization of the integration.\n   */\n  public openDialog(): void {\n    if (!this._widget) {\n      this._createWidget({ ...this.options, shouldCreateActor: false });\n    }\n\n    if (!this._widget) {\n      return;\n    }\n\n    this._widget.openDialog();\n  }\n\n  /**\n   * Closes the dialog for the default widget, if it exists\n   */\n  public closeDialog(): void {\n    if (!this._widget) {\n      // Nothing to do if widget does not exist\n      return;\n    }\n\n    this._widget.closeDialog();\n  }\n\n  /**\n   * Adds click listener to attached element to open a feedback dialog\n   */\n  public attachTo(el: Element | string, optionOverrides?: OptionalFeedbackConfiguration): FeedbackWidget | null {\n    try {\n      const options = mergeOptions(this.options, optionOverrides || {});\n\n      return this._ensureShadowHost<FeedbackWidget | null>(options, ({ shadow }) => {\n        const targetEl =\n          typeof el === 'string' ? doc.querySelector(el) : typeof el.addEventListener === 'function' ? el : null;\n\n        if (!targetEl) {\n          DEBUG_BUILD && logger.error('[Feedback] Unable to attach to target element');\n          return null;\n        }\n\n        const widget = createWidget({ shadow, options, attachTo: targetEl });\n        this._widgets.add(widget);\n\n        if (!this._widget) {\n          this._widget = widget;\n        }\n\n        return widget;\n      });\n    } catch (err) {\n      DEBUG_BUILD && logger.error(err);\n      return null;\n    }\n  }\n\n  /**\n   * Creates a new widget. Accepts partial options to override any options passed to constructor.\n   */\n  public createWidget(\n    optionOverrides?: OptionalFeedbackConfiguration & { shouldCreateActor?: boolean },\n  ): FeedbackWidget | null {\n    try {\n      return this._createWidget(mergeOptions(this.options, optionOverrides || {}));\n    } catch (err) {\n      DEBUG_BUILD && logger.error(err);\n      return null;\n    }\n  }\n\n  /**\n   * Removes a single widget\n   */\n  public removeWidget(widget: FeedbackWidget | null | undefined): boolean {\n    if (!widget) {\n      return false;\n    }\n\n    try {\n      if (this._widgets.has(widget)) {\n        widget.removeActor();\n        widget.removeDialog();\n        this._widgets.delete(widget);\n\n        if (this._widget === widget) {\n          // TODO: is more clean-up needed? e.g. call remove()\n          this._widget = null;\n        }\n\n        return true;\n      }\n    } catch (err) {\n      DEBUG_BUILD && logger.error(err);\n    }\n\n    return false;\n  }\n\n  /**\n   * Returns the default (first-created) widget\n   */\n  public getWidget(): FeedbackWidget | null {\n    return this._widget;\n  }\n\n  /**\n   * Removes the Feedback integration (including host, shadow DOM, and all widgets)\n   */\n  public remove(): void {\n    if (this._host) {\n      this._host.remove();\n    }\n    this._initialize();\n  }\n\n  /**\n   * Initializes values of protected properties\n   */\n  protected _initialize(): void {\n    this._host = null;\n    this._shadow = null;\n    this._widget = null;\n    this._widgets = new Set();\n    this._hasInsertedActorStyles = false;\n  }\n\n  /**\n   * Clean-up the widget if it already exists in the DOM. This shouldn't happen\n   * in prod, but can happen in development with hot module reloading.\n   */\n  protected _cleanupWidgetIfExists(): void {\n    if (this._host) {\n      this.remove();\n    }\n    const existingFeedback = doc.querySelector(`#${this.options.id}`);\n    if (existingFeedback) {\n      existingFeedback.remove();\n    }\n  }\n\n  /**\n   * Creates a new widget, after ensuring shadow DOM exists\n   */\n  protected _createWidget(options: FeedbackInternalOptions & { shouldCreateActor?: boolean }): FeedbackWidget | null {\n    return this._ensureShadowHost<FeedbackWidget>(options, ({ shadow }) => {\n      const widget = createWidget({ shadow, options });\n\n      if (!this._hasInsertedActorStyles && widget.actor) {\n        shadow.appendChild(createActorStyles(doc));\n        this._hasInsertedActorStyles = true;\n      }\n\n      this._widgets.add(widget);\n\n      if (!this._widget) {\n        this._widget = widget;\n      }\n\n      return widget;\n    });\n  }\n\n  /**\n   * Ensures that shadow DOM exists and is added to the DOM\n   */\n  protected _ensureShadowHost<T>(\n    options: FeedbackInternalOptions,\n    cb: (createShadowHostResult: ReturnType<typeof createShadowHost>) => T,\n  ): T | null {\n    let needsAppendHost = false;\n\n    // Don't create if it already exists\n    if (!this._shadow || !this._host) {\n      const { id, colorScheme, themeLight, themeDark } = options;\n      const { shadow, host } = createShadowHost({\n        id,\n        colorScheme,\n        themeLight,\n        themeDark,\n      });\n      this._shadow = shadow;\n      this._host = host;\n      needsAppendHost = true;\n    }\n\n    // set data attribute on host for different themes\n    this._host.dataset.sentryFeedbackColorscheme = options.colorScheme;\n\n    const result = cb({ shadow: this._shadow, host: this._host });\n\n    if (needsAppendHost) {\n      doc.body.appendChild(this._host);\n    }\n\n    return result;\n  }\n}\n"],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;EAEC,OAAOF,KAAK;AACd;;ACrDA;AACA;AACA;AACO,SAASG,kBAAkBA,CAACJ,CAAC,EAA8B;EAChE,MAAMC,KAAA,GAAQD,CAAC,CAACE,aAAa,CAAC,OAAO,CAAC;EAEtCD,KAAK,CAACE,WAAY,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}