{"ast":null,"code":"import { SyncPromise, logger, isThenable, getGlobalSingleton } from '@sentry/utils';\nimport { DEBUG_BUILD } from './debug-build.js';\n\n/**\n * Returns the global event processors.\n * @deprecated Global event processors will be removed in v8.\n */\nfunction getGlobalEventProcessors() {\n  return getGlobalSingleton('globalEventProcessors', () => []);\n}\n\n/**\n * Add a EventProcessor to be kept globally.\n * @deprecated Use `addEventProcessor` instead. Global event processors will be removed in v8.\n */\nfunction addGlobalEventProcessor(callback) {\n  // eslint-disable-next-line deprecation/deprecation\n  getGlobalEventProcessors().push(callback);\n}\n\n/**\n * Process an array of event processors, returning the processed event (or `null` if the event was dropped).\n */\nfunction notifyEventProcessors(processors, event, hint, index = 0) {\n  return new SyncPromise((resolve, reject) => {\n    const processor = processors[index];\n    if (event === null || typeof processor !== 'function') {\n      resolve(event);\n    } else {\n      const result = processor({\n        ...event\n      }, hint);\n      DEBUG_BUILD && processor.id && result === null && logger.log(`Event processor \"${processor.id}\" dropped event`);\n      if (isThenable(result)) {\n        void result.then(final => notifyEventProcessors(processors, final, hint, index + 1).then(resolve)).then(null, reject);\n      } else {\n        void notifyEventProcessors(processors, result, hint, index + 1).then(resolve).then(null, reject);\n      }\n    }\n  });\n}\nexport { addGlobalEventProcessor, getGlobalEventProcessors, notifyEventProcessors };","map":{"version":3,"names":["getGlobalEventProcessors","getGlobalSingleton","addGlobalEventProcessor","callback","push","notifyEventProcessors","processors","event","hint","index","SyncPromise","resolve","reject","processor","result","DEBUG_BUILD","id","logger","log","isThenable","then","final"],"sources":["/Users/amandawarnakula/ParkwayLabs/TestApplications/error_handling/node_modules/@sentry/src/eventProcessors.ts"],"sourcesContent":["import type { Event, EventHint, EventProcessor } from '@sentry/types';\nimport { SyncPromise, getGlobalSingleton, isThenable, logger } from '@sentry/utils';\n\nimport { DEBUG_BUILD } from './debug-build';\n\n/**\n * Returns the global event processors.\n * @deprecated Global event processors will be removed in v8.\n */\nexport function getGlobalEventProcessors(): EventProcessor[] {\n  return getGlobalSingleton<EventProcessor[]>('globalEventProcessors', () => []);\n}\n\n/**\n * Add a EventProcessor to be kept globally.\n * @deprecated Use `addEventProcessor` instead. Global event processors will be removed in v8.\n */\nexport function addGlobalEventProcessor(callback: EventProcessor): void {\n  // eslint-disable-next-line deprecation/deprecation\n  getGlobalEventProcessors().push(callback);\n}\n\n/**\n * Process an array of event processors, returning the processed event (or `null` if the event was dropped).\n */\nexport function notifyEventProcessors(\n  processors: EventProcessor[],\n  event: Event | null,\n  hint: EventHint,\n  index: number = 0,\n): PromiseLike<Event | null> {\n  return new SyncPromise<Event | null>((resolve, reject) => {\n    const processor = processors[index];\n    if (event === null || typeof processor !== 'function') {\n      resolve(event);\n    } else {\n      const result = processor({ ...event }, hint) as Event | null;\n\n      DEBUG_BUILD && processor.id && result === null && logger.log(`Event processor \"${processor.id}\" dropped event`);\n\n      if (isThenable(result)) {\n        void result\n          .then(final => notifyEventProcessors(processors, final, hint, index + 1).then(resolve))\n          .then(null, reject);\n      } else {\n        void notifyEventProcessors(processors, result, hint, index + 1)\n          .then(resolve)\n          .then(null, reject);\n      }\n    }\n  });\n}\n"],"mappings":";;;AAKA;AACA;AACA;AACA;AACO,SAASA,wBAAwBA,CAAA,EAAqB;EAC3D,OAAOC,kBAAkB,CAAmB,uBAAuB,EAAE,MAAM,EAAE,CAAC;AAChF;;AAEA;AACA;AACA;AACA;AACO,SAASC,uBAAuBA,CAACC,QAAQ,EAAwB;EACxE;EACEH,wBAAwB,EAAE,CAACI,IAAI,CAACD,QAAQ,CAAC;AAC3C;;AAEA;AACA;AACA;AACO,SAASE,qBAAqBA,CACnCC,UAAU,EACVC,KAAK,EACLC,IAAI,EACJC,KAAK,GAAW,CAAC,EACU;EAC3B,OAAO,IAAIC,WAAW,CAAe,CAACC,OAAO,EAAEC,MAAM,KAAK;IACxD,MAAMC,SAAU,GAAEP,UAAU,CAACG,KAAK,CAAC;IACnC,IAAIF,KAAA,KAAU,QAAQ,OAAOM,SAAA,KAAc,UAAU,EAAE;MACrDF,OAAO,CAACJ,KAAK,CAAC;IACpB,OAAW;MACL,MAAMO,MAAO,GAAED,SAAS,CAAC;QAAE,GAAGN;MAAM,CAAC,EAAEC,IAAI,CAAE;MAE7CO,WAAA,IAAeF,SAAS,CAACG,EAAA,IAAMF,MAAA,KAAW,QAAQG,MAAM,CAACC,GAAG,CAAE,oBAAmBL,SAAS,CAACG,EAAG,iBAAgB,CAAC;MAE/G,IAAIG,UAAU,CAACL,MAAM,CAAC,EAAE;QACtB,KAAKA,MAAA,CACFM,IAAI,CAACC,KAAA,IAAShB,qBAAqB,CAACC,UAAU,EAAEe,KAAK,EAAEb,IAAI,EAAEC,KAAA,GAAQ,CAAC,CAAC,CAACW,IAAI,CAACT,OAAO,CAAC,EACrFS,IAAI,CAAC,IAAI,EAAER,MAAM,CAAC;MAC7B,OAAa;QACL,KAAKP,qBAAqB,CAACC,UAAU,EAAEQ,MAAM,EAAEN,IAAI,EAAEC,KAAM,GAAE,CAAC,EAC3DW,IAAI,CAACT,OAAO,EACZS,IAAI,CAAC,IAAI,EAAER,MAAM,CAAC;MAC7B;IACA;EACA,CAAG,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}